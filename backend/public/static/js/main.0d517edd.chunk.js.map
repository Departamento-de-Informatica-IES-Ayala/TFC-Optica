{"version":3,"sources":["db.js","Global.js","components/Header.js","components/Home.js","components/Footer.js","components/Login.js","components/Register.js","components/Tienda.js","components/Citas.js","components/Servicios.js","components/Error.js","components/PerfilUsuario.js","components/panelAdmin/UsuariosAdmin.js","components/panelAdmin/PedidosAdmin.js","components/panelAdmin/CitasAdmin.js","components/panelAdmin/Calendario.js","components/PerfilAdmin.js","components/Carrito.js","paypal.js","components/Compra.js","components/UsuarioPedidos.js","Router.js","App.js","serviceWorker.js","index.js","assets/images/logo.png","assets/images/a.png","assets/images/b.png","assets/images/c.png","assets/images/d.png","assets/images/carrito.svg"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","storage","firestore","Global","url","Header","state","identity","user","userId","redirect","logout","signOut","then","setState","axios","post","catch","e","alert","message","this","props","logged","currentUser","email","get","response","data","status","Fragment","to","id","className","activeClassName","src","logo","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","role","aria-haspopup","nombre","apellidos","aria-labelledby","admin","style","cursor","onClick","Component","Home","showArrows","showThumbs","infiniteLoop","autoPlay","interval","transitionTime","showStatus","showIndicators","a","d","b","c","Footer","Login","emailRef","React","createRef","passwordRef","password","inicioGoogle","provider","GoogleAuthProvider","signInWithPopup","result","current","name","displayName","split","telefono","dni","imagen","inicioFacebook","FacebookAuthProvider","changeState","value","recibirFormulario","event","preventDefault","validator","allValid","signInWithEmailAndPassword","err","showMessages","forceUpdate","SimpleReactValidator","messages","required","alpha_num_space","numeric","onSubmit","htmlFor","ref","onChange","minLength","Register","nombreRef","apellidosRef","password2Ref","dniRef","telefonoRef","password2","archivo","loading","confirmpassword","ejecutarFormulario","recogerFoto","target","files","put","child","getDownloadURL","swal","locale","validators","names_surnames","rule","val","params","helpers","testRegex","indexOf","email2","alpha_space","maxLength","onBlur","onKeyUp","onFocus","Tienda","productaux","loadedCarrito","productos","carrito","categoria","edad","genero","show","onCategoriaChange","getProductos","onEdadChange","onGeneroChange","getUser","getCarrito","pulsadoEvento","item","forEach","element","productId","push","cerradoEvento","agregarItem","item_id","match","listProducts","length","map","i","key","product","precio","defaultValue","checked","pathname","Modal","onHide","size","centered","closeButton","Title","Body","descripcion","Button","variant","Citas","cita","disabled","Servicios","Error","PerfilUsuario","listHistorial","textoHistorialRef","fechaHistorialRef","loading_file","eliminado","historial","addHistorial","historialaux","add","texto","fecha","moment","format","eliminarUsuario","delete","undefined","margin","UsuariosAdmin","users","listUsers","PedidosAdmin","pedidoaux","pedidos","pedidoId","estado","pedido","pedidosaux","splice","listPedidos","detalles","updatePedido","direccion","municipio","provincia","cp","id_usuario","cantidad","precio_total","CitasAdmin","citas","hora","citasaux","listCitas","updateCita","citaId","min","max","localizer","momentLocalizer","Calendario","eventsList","citaaux","actualizadorCitas","fecha2_split","hora2_split","title","start","Date","parseInt","end","events","startAccessor","endAccessor","defaultView","onSelectEvent","height","envioRecordatorio","PerfilAdmin","adminid","exact","from","path","component","render","Carrito","reducirItem","eliminarItem","procesarCompra","location","backgroundColor","border","borderRadius","color","PayPalButton","paypal","driver","ReactDOM","paypalConf","currency","env","client","sandbox","production","label","shape","Compra","errorCarrito","pvp","direccionRef","municipioRef","cpRef","provinciaRef","loadedUser","buttons","completed","onToken","token","total","save_pedido","payment","actions","transactions","amount","description","custom","note_to_payer","create","onAuthorize","execute","error","onError","ComponentClass","stripeKey","commit","UsuarioPedidos","errorPedidos","getPedidos","Router","isLogged","signout","App","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","contentType","ready","unregister","reload","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.0d517edd.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig={\r\n    apiKey: \"AIzaSyCpodxaWgqwls4795dWt3ZbqGEm9Ltt6fY\",\r\n    authDomain: \"proyecto-consulta-firebase.firebaseapp.com\",\r\n    databaseURL: \"https://proyecto-consulta-firebase.firebaseio.com\",\r\n    projectId: \"proyecto-consulta-firebase\",\r\n    storageBucket: \"proyecto-consulta-firebase.appspot.com\",\r\n    messagingSenderId: \"1072801915077\",\r\n    appId: \"1:1072801915077:web:3ea752b2a8a7839bb150ac\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const auth = firebase.auth();\r\nexport const db = firebase.firestore();\r\nexport const storage = firebase.storage();","var Global={\r\n        /* url: 'http://localhost:3000/'  */\r\n        url: 'https://tope-vision.herokuapp.com/'\r\n};\r\n\r\nexport default Global","import React, { Component } from 'react';\r\nimport logo from '../assets/images/logo.png';\r\nimport { NavLink , Link, Redirect} from 'react-router-dom';\r\nimport { auth } from '../db';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\n\r\nclass Header extends Component {\r\n\r\n    url = Global.url;\r\n\r\n    state = {\r\n        identity: false,\r\n        user: {},\r\n        userId: null,\r\n        redirect:false,\r\n\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.logged===true && auth.currentUser!=null && this.state.identity === false) {\r\n            let email = auth.currentUser.email\r\n            axios.get(this.url + 'user/' + email).then((response) => {\r\n                if (response.data.status === 'success') {\r\n                    this.setState({\r\n                        identity: true,\r\n                        user: response.data.user,\r\n                        userId: response.data.userId,\r\n                        redirect:false\r\n                    });\r\n\r\n                } else {\r\n                    this.setState({\r\n                        identity: null\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        if(this.state.identity===false){\r\n            axios.post(this.url + 'carrito/cerrar');\r\n        }\r\n\r\n    }\r\n\r\n    logout=()=>{\r\n        auth.signOut().then(()=>{\r\n            this.setState({\r\n                identity: false,\r\n                user: {},\r\n                userId: null,\r\n                redirect:true\r\n            })\r\n\r\n            axios.post(this.url + 'carrito/cerrar');\r\n\r\n        }).catch((e)=>{\r\n            alert(e.message)\r\n        });\r\n        \r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <React.Fragment>\r\n                \r\n            {this.state.redirect===true &&\r\n                            \r\n                <Redirect to=\"/signout\"/>\r\n            }\r\n            \r\n\r\n            <header id=\"header\" className=\"container-fluid\">\r\n                <nav className=\"navbar navbar-expand-lg navbar-light\" id=\"barra\" >\r\n                    <div className=\"navbar-brand\">\r\n                        <NavLink to=\"/\" activeClassName=\"active\"><img src={logo} className=\"app-logo\" id=\"logo\" alt=\"Logotipo\" /></NavLink>\r\n                    </div>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n\r\n                        <ul className=\"navbar-nav mr-auto\">\r\n                            <li className=\"nav-item\">\r\n                                <NavLink to=\"/\" activeClassName=\"active\">Inicio</NavLink>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <NavLink to=\"/servicios\" activeClassName=\"active\">Servicios</NavLink>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <NavLink to={\"/tienda/\"+this.state.userId }activeClassName=\"active\">Tienda</NavLink>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <NavLink to=\"/citas\" activeClassName=\"active\">Citas</NavLink>\r\n                            </li>\r\n                        </ul>\r\n                        <div className=\"dropdown-divider \"></div>\r\n                        <ul className=\"navbar-nav navbar-right\">\r\n\r\n                            {this.state.identity === false || this.state.identity === null\r\n                                ? <React.Fragment>\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink to=\"/register\" activeClassName=\"active\">Registro</NavLink>\r\n                                    </li>\r\n                                    <li className=\"nav-item\">\r\n                                        <NavLink to=\"/login\" activeClassName=\"active\">Iniciar sesion</NavLink>\r\n                                    </li>\r\n                                </React.Fragment>\r\n                                : <React.Fragment>\r\n                                    <li className=\"nav-item dropdown\" >\r\n                                        <p className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                            {this.state.user.nombre + ' ' + this.state.user.apellidos}\r\n                                        </p>\r\n\r\n                                        <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                                            {this.state.user.admin === false \r\n\r\n                                                ?<React.Fragment>\r\n                                                <Link className=\"dropdown-item\" to={\"/miperfil/\" + this.state.userId} >Mi perfil</Link>\r\n                                                <Link className=\"dropdown-item\" to={\"/mispedidos/\" + this.state.userId}>Mis pedidos</Link>\r\n                                                </React.Fragment>\r\n                                                : <React.Fragment>\r\n                                                <Link className=\"dropdown-item\" to={\"/adminperfil/\" + this.state.userId} >Administracion</Link>\r\n                                                \r\n                                                </React.Fragment>\r\n                                            }\r\n                                            <div className=\"dropdown-divider\"></div>\r\n                                            <Link className=\"dropdown-item pointer\" style={{cursor: \"pointer\"}} onClick={this.logout}>Cerrar sesion</Link>\r\n                                        </div> \r\n                                    </li>\r\n                                    </React.Fragment>\r\n                                }\r\n                                \r\n                            </ul>\r\n                        \r\n\r\n            </div >\r\n                    </nav >\r\n                \r\n            </header >\r\n            </React.Fragment>\r\n         );\r\n    }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\n import \"react-responsive-carousel/lib/styles/carousel.min.css\"; \r\n import { Carousel } from 'react-responsive-carousel'; \r\n\r\nimport a from '../assets/images/a.png'\r\nimport b from '../assets/images/b.png'\r\nimport c from '../assets/images/c.png'\r\n import d from '../assets/images/d.png' \r\n\r\nclass Home extends Component {\r\n    state = {}\r\n    render() {\r\n        return (\r\n            <div id=\"home\">\r\n                <div id=\"slider\" className=\" container-fluid p-0\">\r\n                   <Carousel\r\n                        showArrows={false}\r\n                        showThumbs={false}\r\n                        infiniteLoop={true}\r\n                        autoPlay={true}\r\n                        interval={6000}\r\n                        transitionTime={1000}\r\n                        showStatus={false}\r\n                        showIndicators={false}\r\n                    >\r\n                        <div>\r\n                            <img src={a} alt=\"carrousel1\"  />\r\n                        </div>\r\n                        <div>\r\n                            <img src={d} alt=\"carrousel4\"  />\r\n                        </div>\r\n                        <div>\r\n                            <img src={b} alt=\"carrousel2\"  />\r\n                        </div>\r\n                        <div>\r\n                            <img src={c} alt=\"carrousel3\"  />\r\n                        </div>\r\n                        \r\n\r\n                    </Carousel> \r\n                    </div>\r\n                    \r\n                \r\n                <div className=\"center\">\r\n                <h1 className=\"titulo\">Bienvenido a Tope Vision</h1>\r\n                    <div id=\"content\">\r\n\r\n\r\n                        <hr></hr>\r\n                        <div>\r\n                            <p>Contenido de prueba</p>\r\n                            <p>dvdsvdf</p>\r\n                        </div>\r\n                        <div>\r\n                            <p>Contenido de prueba</p>\r\n                            <p>dvdsvdf</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nconst Footer=()=>{\r\n        return ( \r\n        <footer id=\"footer\">\r\n        <div className=\"center\">\r\n            <p>\r\n                &copy; Alvaro Torrente Perez\r\n            </p>\r\n        </div>\r\n    </footer> );\r\n    \r\n}\r\n \r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport { auth } from '../db'\r\nimport firebase from 'firebase';\r\n\r\n\r\n\r\nclass Login extends Component {\r\n\r\n    emailRef = React.createRef();\r\n    passwordRef = React.createRef();\r\n\r\n    url = Global.url;\r\n\r\n    state = {\r\n        email: null,\r\n        password: null,\r\n        status: null,\r\n        user: {},\r\n    };\r\n    componentWillMount() {\r\n        this.validator = new SimpleReactValidator({\r\n            messages: {\r\n                required: 'Este campo es obligatorio',\r\n                alpha_num_space: 'Solo se permiten caracteres alfanumericos',\r\n                numeric: 'Solo se permiten numeros',\r\n                email: 'Email no es correcto',\r\n\r\n            },\r\n        });\r\n    }\r\n\r\n    inicioGoogle = () => {\r\n        var provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n        auth.signInWithPopup(provider).then((result) => {\r\n            var current = result.user;\r\n            let name = current.displayName.split(\" \");\r\n            let user = {\r\n                nombre: name[0],\r\n                apellidos: name[1],\r\n                email: current.email,\r\n                telefono: \"\",\r\n                dni: \"\",\r\n                imagen:\"https://firebasestorage.googleapis.com/v0/b/proyecto-consulta-firebase.appspot.com/o/default-user-image.png?alt=media&token=6c3d7402-c876-48ff-b1e1-5d1a0b6cab66\"\r\n            }\r\n            axios.post(this.url + 'user2', user).then((response)=>{\r\n                if(response.data){\r\n                    this.setState({\r\n                        status: 'success'\r\n                    })\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    inicioFacebook = () => {\r\n        var provider = new firebase.auth.FacebookAuthProvider();\r\n\r\n        auth.signInWithPopup(provider).then((result) => {\r\n            var current = result.user;\r\n            let name = current.displayName.split(\" \");\r\n            let user = {\r\n                nombre: name[0],\r\n                apellidos: name[1],\r\n                email: current.email,\r\n                telefono: \"\",\r\n                dni: \"\",\r\n                imagen: \"https://firebasestorage.googleapis.com/v0/b/proyecto-consulta-firebase.appspot.com/o/default-user-image.png?alt=media&token=6c3d7402-c876-48ff-b1e1-5d1a0b6cab66\"\r\n            }\r\n            axios.post(this.url + 'user2', user).then((response)=>{\r\n                if(response.data){\r\n                    this.setState({\r\n                        status: 'success'\r\n                    })\r\n                }\r\n            });\r\n            \r\n        })\r\n    }\r\n\r\n    changeState = () => {\r\n        this.setState({\r\n            email: this.emailRef.current.value,\r\n            password: this.passwordRef.current.value\r\n        });\r\n    }\r\n\r\n    recibirFormulario = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.changeState();\r\n\r\n        if (this.validator.allValid()) {\r\n            auth.signInWithEmailAndPassword(this.state.email, this.state.password).then(() => {\r\n                this.setState({\r\n                    password: null,\r\n                    status: 'success'\r\n                })\r\n            }).catch((err) => {\r\n                alert(err.message)\r\n            })\r\n        } else {\r\n            this.validator.showMessages();\r\n            this.forceUpdate();\r\n            this.setState({\r\n                status: 'failed'\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.status === 'success') {\r\n            return (\r\n                <Redirect to=\"/logged\" />\r\n            )\r\n        }\r\n\r\n        return (\r\n\r\n            <div id=\"login\" className=\" col-12\">\r\n\r\n                <h2 className=\"text-center p-3 text-md-left\">\r\n                    Iniciar sesion\r\n                </h2>\r\n                <hr />\r\n\r\n                <form className=\"col-md-5\" onSubmit={this.recibirFormulario} >\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"email\" className=\"ml-2\">Email</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"email\" ref={this.emailRef} onChange={this.changeState} required />\r\n                        {this.validator.message('email', this.state.email, 'required|email')}\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"password\" className=\"ml-2\">Contraseña</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"password\" name=\"password\" ref={this.passwordRef} onChange={this.changeState} required minLength=\"6\" />\r\n                        {this.validator.message('password', this.state.password, 'required')}\r\n\r\n                    </div>\r\n                    <div className=\"clearfix\"></div>\r\n                    <input type=\"submit\" value=\"Iniciar sesion\" className=\"btn btn-success\" />\r\n                </form>\r\n\r\n                <div className=\"botonessesion\">\r\n                    <button className=\"btngoogle row\" onClick={() => this.inicioGoogle()}><img src=\"https://www.gstatic.com/mobilesdk/160512_mobilesdk/auth_service_google.svg\" alt=\"google-boton\" /> <p>Inicia sesion con Google</p></button>\r\n                    <button className=\"btnfacebook row\" onClick={() => this.inicioFacebook()}><img src=\"https://www.gstatic.com/mobilesdk/160409_mobilesdk/images/auth_service_facebook.svg\" alt=\"facebook-boton\" /> <p>Inicia sesion con Facebook</p></button>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport swal from 'sweetalert';\r\nimport { storage } from '../db';\r\n\r\n\r\nclass Register extends Component {\r\n\r\n    nombreRef = React.createRef();\r\n    apellidosRef = React.createRef();\r\n    emailRef = React.createRef();\r\n    passwordRef = React.createRef();\r\n    password2Ref = React.createRef();\r\n    dniRef = React.createRef();\r\n    telefonoRef = React.createRef();\r\n\r\n    url = Global.url;\r\n\r\n    state = {\r\n        user: {},\r\n        status: null,\r\n        password2: null,\r\n        archivo: 'default',\r\n        loading: false\r\n\r\n    };\r\n\r\n    confirmpassword = null;\r\n\r\n\r\n    componentWillMount() {\r\n        this.validator = new SimpleReactValidator({\r\n            locale: 'es',\r\n            validators: {\r\n                names_surnames: {\r\n                    message: 'El campo debe contener letras y espacios',\r\n                    rule: (val, params, validator) => {\r\n                        return validator.helpers.testRegex(val, /^[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+(\\s*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]*)*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+$/) && params.indexOf(val) === -1\r\n                    },\r\n\r\n                },\r\n                email2: {\r\n                    message: 'El email no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^(?:[^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*|\"[^\\n\"]+\")@(?:[^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\]\\.,;:\\s@\"]{2,63}$/i) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                telefono: {\r\n                    message: 'El telefono no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^[896]\\d{8}$/) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                dni: {\r\n                    message: 'El DNI no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^\\d{8}[a-zA-Z]$/) && params.indexOf(val) === -1\r\n                    },\r\n                }\r\n            },\r\n            messages: {\r\n                required: 'Este campo es obligatorio',\r\n                alpha_num_space: 'Solo se permiten caracteres alfanumericos',\r\n                numeric: 'Solo se permiten numeros',\r\n                email: 'Email no es correcto',\r\n                alpha_space: 'Solo se permiten letras y espacios'\r\n\r\n            },\r\n        });\r\n    }\r\n\r\n    changeState = () => {\r\n        this.setState({\r\n            user: {\r\n                nombre: this.nombreRef.current.value,\r\n                apellidos: this.apellidosRef.current.value,\r\n                email: this.emailRef.current.value,\r\n                password: this.passwordRef.current.value,\r\n                telefono: this.telefonoRef.current.value,\r\n                dni: this.dniRef.current.value,\r\n            },\r\n            password2: this.password2Ref.current.value\r\n        });\r\n        if (this.state.password2 === this.state.user.password) {\r\n\r\n            this.confirmpassword = true\r\n\r\n\r\n        } else {\r\n\r\n            this.confirmpassword = false\r\n        }\r\n    }\r\n\r\n    recibirFormulario = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.changeState()\r\n\r\n        this.ejecutarFormulario();\r\n\r\n    }\r\n\r\n    recogerFoto = (event) => {\r\n        this.setState({\r\n            archivo: event.target.files[0]\r\n        })\r\n    }\r\n\r\n    ejecutarFormulario = () => {\r\n        if (this.confirmpassword === true) {\r\n            if (this.validator.allValid()) {\r\n                if (this.state.archivo !== 'default') {\r\n                    this.setState({\r\n                        loading:true\r\n                    })\r\n                    storage.ref(this.state.archivo.name).put(this.state.archivo).then(() => {\r\n                        storage.ref().child(this.state.archivo.name).getDownloadURL().then(\r\n                            url => {\r\n                                this.setState({\r\n                                    loading:false\r\n                                })\r\n                                let user = this.state.user;\r\n                                axios.post(this.url + 'user', { user, url }).then((response) => {\r\n                                    if (response.data.status === 'success') {\r\n                                        this.setState({\r\n                                            status: 'success'\r\n                                        });\r\n                                        swal(\r\n                                            'Usuario registrado',\r\n                                            'Te has registrado correctamente',\r\n                                            'success'\r\n                                        );\r\n                                    } else {\r\n                                        this.setState({\r\n                                            status: 'failed'\r\n                                        });\r\n                                    }\r\n                                });\r\n                            });\r\n                    });\r\n                } else {\r\n                    let user = this.state.user;\r\n                    let url = 'https://firebasestorage.googleapis.com/v0/b/proyecto-consulta-firebase.appspot.com/o/default-user-image.png?alt=media&token=6c3d7402-c876-48ff-b1e1-5d1a0b6cab66';\r\n                    axios.post(this.url + 'user', { user, url }).then((response) => {\r\n                        if (response.data.status === 'success') {\r\n                            this.setState({\r\n                                status: 'success'\r\n                            });\r\n                            swal(\r\n                                'Usuario registrado',\r\n                                'Te has registrado correctamente',\r\n                                'success'\r\n                            );\r\n                        } else {\r\n                            this.setState({\r\n                                status: 'failed'\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n\r\n\r\n            } else {\r\n                this.validator.showMessages();\r\n                this.forceUpdate();\r\n                this.setState({\r\n                    status: 'failed'\r\n                })\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.status === 'success') {\r\n            return (\r\n                <Redirect to=\"/login\" />\r\n            )\r\n        }\r\n        return (\r\n\r\n            <div id=\"registro\" className=\" col-12\">\r\n                <h2 className=\"text-center p-3 text-md-left\">\r\n                    Registro\r\n                </h2>\r\n                <hr />\r\n\r\n                <form className=\"col-md-5\" onSubmit={this.recibirFormulario} >\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"nombre\" className=\"ml-2\" >Nombre</label>\r\n                        <input id=\"nombre\" className=\"form-control mr-2 ml-2\" type=\"text\" name=\"nombre\" ref={this.nombreRef} onChange={this.changeState} required />\r\n                        {this.validator.message('nombre', this.state.user.nombre, 'required|names_surnames')}\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"apellidos\" className=\"ml-2\">Apellidos</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"apellidos\" ref={this.apellidosRef} onChange={this.changeState} required />\r\n                        {this.validator.message('apellidos', this.state.user.apellidos, 'required|names_surnames')}\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"telefono\" className=\"ml-2\">Telefono</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"telefono\" ref={this.telefonoRef} onChange={this.changeState} maxLength=\"9\" required />\r\n                        {this.validator.message('telefono', this.state.user.telefono, 'required|telefono')}\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"dni\" className=\"ml-2\">DNI</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"dni\" ref={this.dniRef} onChange={this.changeState} onBlur={this.changeState} required />\r\n                        {this.validator.message('dni', this.state.user.dni, 'required|dni')}\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"image\" className=\"ml-2\">Avatar</label>\r\n                        <input className=\"form-control-file mr-2 ml-2\" type=\"file\" name=\"imagen\" onChange={(e) => this.recogerFoto(e)} />\r\n                        {this.state.loading === true &&\r\n                            <small>Cargando imagen...</small>\r\n                        }\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"email\" className=\"ml-2\">Email</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"email\" ref={this.emailRef} onChange={this.changeState} onBlur={this.changeState} required />\r\n                        {this.validator.message('email', this.state.user.email, 'required|email2')}\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"password\" className=\"ml-2\">Contraseña</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"password\" name=\"password\" ref={this.passwordRef} onChange={this.changeState} onBlur={this.changeState} required minLength=\"6\" />\r\n                        {this.validator.message('password', this.state.user.password, 'required')}\r\n\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"password2\" className=\"ml-2\">Confirmar contraseña</label>\r\n                        <input className=\"form-control mr-2 ml-2\" type=\"password\" name=\"password2\" ref={this.password2Ref} onChange={this.changeState} onBlur={this.changeState} onKeyUp={this.changeState} required minLength=\"6\" />\r\n                        {this.confirmpassword === false &&\r\n                            <small>La contraseña no coincide</small>\r\n                        }\r\n\r\n                    </div>\r\n                    <div className=\"clearfix\"></div>\r\n                    <input type=\"submit\" onFocus={this.changeState} onClick={this.changeState} value=\"Registro\" className=\"btn btn-success\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;","import React, { Component } from 'react';\r\nimport { auth } from '../db';\r\nimport {  Redirect,  Link } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport swal from 'sweetalert';\r\nimport carrito from '../assets/images/carrito.svg'\r\nimport { Modal, Button } from 'react-bootstrap'\r\n\r\nclass Tienda extends Component {\r\n\r\n    url = Global.url\r\n    userId = null;\r\n    productaux = [];\r\n    loadedCarrito=false\r\n    state = {\r\n        identity: true,\r\n        user: {},\r\n        status: null,\r\n        productos: [],\r\n        carrito: [],\r\n        categoria: 'gafas',\r\n        edad: 'adulto',\r\n        genero: 'masculino',\r\n        show: false\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (!auth.currentUser) {\r\n            this.setState({\r\n                identity: false\r\n            });\r\n        } else {\r\n            this.userId = this.props.match.params.id\r\n            if (this.userId === \"null\") {\r\n                this.setState({\r\n                    identity: false\r\n                });\r\n            }else{\r\n                axios.get(this.url + 'getemail/' + this.userId).then((response) => {\r\n                    if (response.data.status === 'success' && response.data.email === auth.currentUser.email) {\r\n                        this.getUser(this.userId);\r\n                    } else {\r\n                        this.setState({\r\n                            identity: false\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    onCategoriaChange = (event) => {\r\n        this.setState({\r\n            categoria: event.target.value,\r\n        }, this.getProductos);\r\n\r\n    }\r\n\r\n    onEdadChange = (event) => {\r\n        this.setState({\r\n            edad: event.target.value\r\n        }, this.getProductos);\r\n    }\r\n\r\n    onGeneroChange = (event) => {\r\n        this.setState({\r\n            genero: event.target.value\r\n        }, this.getProductos);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProductos();\r\n        this.getCarrito();\r\n\r\n    }\r\n\r\n\r\n    getUser = (id) => {\r\n        axios.get(this.url + 'getuser/' + id).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    user: response.data.user\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    getCarrito = () => {\r\n        axios.get(this.url + 'carrito').then((response) => {\r\n            if (response.data.status === 'success') {\r\n                if(response.data.carrito){\r\n                    this.setState({\r\n                        carrito: response.data.carrito\r\n                    })\r\n                    this.loadedCarrito=true;\r\n                }else{\r\n                    this.loadedCarrito=false;\r\n                }\r\n                \r\n            }\r\n        })\r\n    }\r\n\r\n    getProductos = () => {\r\n        let categoria = this.state.categoria;\r\n        let edad = this.state.edad;\r\n        let genero = this.state.genero;\r\n        axios.post(this.url + 'productos', { categoria: categoria, edad: edad, genero: genero }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    productos: response.data.productos,\r\n                    status: 'success'\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    productos: [],\r\n                    status: 'error'\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    pulsadoEvento = (item) => {\r\n        this.state.productos.forEach((element) => {\r\n            if (item === element.productId) {\r\n                this.productaux.push(element)\r\n                this.setState({\r\n                    show: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    cerradoEvento = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n        this.productaux = [];\r\n    }\r\n\r\n    agregarItem = (id) => {\r\n        axios.post(this.url + 'carrito/agregar', { item_id: id }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    carrito: response.data.carrito\r\n                })\r\n                this.loadedCarrito=true\r\n                this.cerradoEvento();\r\n                swal(\r\n                    'Producto agregado correctamente',\r\n                    'El producto se ha añadido al carrito correctamente',\r\n                    'success'\r\n                );\r\n\r\n            } else {\r\n                this.cerradoEvento();\r\n                swal(\r\n                    'El producto no se ha agregado correctamente',\r\n                    'Ha ocurrido un error al agregar el producto al carrito, intentelo mas tarde',\r\n                    'error'\r\n                );\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        var listProducts;\r\n        if (this.state.productos.length >= 1) {\r\n            listProducts = this.state.productos.map((data, i) => {\r\n\r\n                return (\r\n\r\n                    <div key={i} className=\"card\" >\r\n                        <img className=\"card-img-top\" src={data.product.imagen} alt=\"Cardcap\" />\r\n                        <div className=\"card-body pt-0 pb-0\">\r\n                            <h4 className=\"card-title \">{data.product.nombre}</h4>\r\n                            <p className=\"card-text h5\">{data.product.precio} €</p><br />\r\n                        </div>\r\n                        <div className=\"card-footer pt-2 pb-2\">\r\n\r\n                            <button className=\"btn btn-primary\" onClick={() => this.pulsadoEvento(data.productId)}>Ver producto</button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            });\r\n        } else if (this.state.status === 'error') {\r\n            listProducts = <h1 className=\"mt-5 text-center error\">No hay productos para mostrar</h1>\r\n\r\n\r\n\r\n        } else {\r\n            listProducts =\r\n                <h1 className=\"mt-5 text-center cargando\">Cargando...</h1>\r\n\r\n\r\n\r\n        }\r\n\r\n        if (this.state.identity === false) {\r\n            return (\r\n                <Redirect to=\"/login\" />\r\n            )\r\n        } else { \r\n            return (\r\n                <div id=\"tienda\" className=\"container-fluid mt-3\">\r\n                    \r\n\r\n                    <div className=\"row\">\r\n                        \r\n                        <div id=\"filtros\" className=\"col-md-2 col-12 mt-2 \">\r\n                        \r\n                            <div className=\"form-group text-left m-2\">\r\n                                <label htmlFor=\"categoria\">Categorias: </label>\r\n                                <select className=\"form-control\" name=\"categoria\" onChange={this.onCategoriaChange}>\r\n                                    <option defaultValue value=\"gafas\">Gafas de sol</option>\r\n                                    <option value=\"lentillas\">Lentillas</option>\r\n                                    <option value=\"limpieza\">Limpieza y accesorios</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"genero text-left m-2\">\r\n                                <label htmlFor=\"genero\" >Genero: </label>\r\n                                <div className=\"form-check\">\r\n                                    <input type=\"radio\" checked={this.state.genero === 'masculino'} className=\"form-check-input\" name=\"masculino\" value=\"masculino\" onChange={this.onGeneroChange} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"masculino\">Hombre</label>\r\n                                </div>\r\n                                <div className=\"form-check\">\r\n                                    <input type=\"radio\" className=\"form-check-input\" checked={this.state.genero === 'femenino'} name=\"femenino\" value=\"femenino\" onChange={this.onGeneroChange} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"femenino\">Mujer</label>\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"edad text-left m-2\">\r\n                                <label htmlFor=\"edad\" >Edad: </label>\r\n                                <div className=\"form-check\">\r\n                                    <input type=\"radio\" checked={this.state.edad === 'adulto'} className=\"form-check-input\" name=\"adulto\" value=\"adulto\" onChange={this.onEdadChange} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"adulto\">Adulto</label>\r\n                                </div>\r\n                                <div className=\"form-check\">\r\n                                    <input type=\"radio\" checked={this.state.edad === 'infantil'} className=\"form-check-input\" name=\"infantil\" value=\"infantil\" onChange={this.onEdadChange} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"infantil\">Infantil</label>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div id=\"productos\" className=\"col-7 ml-2 mt-2\">\r\n                            {listProducts}\r\n                        </div>\r\n\r\n                        {this.loadedCarrito===true &&\r\n                        <div id=\"carrito-button\" className=\"col-md-2 col-12 align-content-center align-items-center align-self-center justify-content-center m-2 p-3\">\r\n                            <Link to={{ pathname: \"/carrito\", state: { userId: this.userId, carrito: this.state.carrito } }} className=\"ircarrito btn btn-primary text-center\" >\r\n                                \r\n                                    <div className=\"numeroitems d-inline pr-2 pl-2 m-3 d-flex align-items-center justify-content-center align-self-center\"><span className=\"m-2\">{this.state.carrito.length} </span><img className=\"m-2\" src={\"../\" + carrito} alt=\"icono-carrito\" /></div>\r\n                                    <p className=\"mb-2\">Ver Carrito</p>\r\n                        </Link>\r\n\r\n                        </div>\r\n                        }\r\n\r\n\r\n\r\n\r\n\r\n                        {this.productaux.length === 1 &&\r\n                            <Modal show={this.state.show} onHide={this.cerradoEvento} size=\"lg\"\r\n                                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                                centered>\r\n                                <Modal.Header closeButton>\r\n                                    <Modal.Title className=\"text-center\">\r\n                                        <img className=\"img-item\" src={this.productaux[0].product.imagen} alt=\"iamgen-item\" />\r\n                                        <h4>{this.productaux[0].product.nombre}</h4>\r\n                                        <p><small>Id referencia: {this.productaux[0].productId}</small></p>\r\n                                        <p className=\"card-text h5\">{this.productaux[0].product.precio} €</p><br />\r\n                                    </Modal.Title>\r\n                                </Modal.Header>\r\n                                <Modal.Body>\r\n                                    <div className=\"infocitacontacto pl-3\">\r\n                                        <p className=\"m-1 h5 \">Descripcion del producto:</p>\r\n                                        <p className=\"m-1 \">{this.productaux[0].product.descripcion}</p>\r\n\r\n                                    </div>\r\n                                    <div className=\"infoactualizarcita mt-3\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col d-flex justify-content-between  mt-2 mb-2\">\r\n                                                <button className=\"btn btn-primary m-auto\" onClick={() => this.agregarItem(this.productaux[0].productId)} >Agregar al carrito</button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </Modal.Body>\r\n                                <Modal.Footer>\r\n                                    <Button variant=\"secondary\" onClick={this.cerradoEvento}>\r\n                                        Cerrar\r\n            </Button>\r\n                                </Modal.Footer>\r\n                            </Modal>\r\n\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            );\r\n     }\r\n\r\n     } \r\n}\r\n\r\nexport default Tienda;","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport swal from 'sweetalert';\r\n\r\n\r\nclass Citas extends Component {\r\n    nombreRef = React.createRef();\r\n    apellidosRef = React.createRef();\r\n    emailRef = React.createRef();\r\n    telefonoRef = React.createRef();\r\n\r\n    url = Global.url;\r\n\r\n    state = {  \r\n        cita:{\r\n            nombre:null,\r\n            apellidos:null,\r\n            email:null,\r\n            telefono:null\r\n        },\r\n        status:null\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        this.validator = new SimpleReactValidator({\r\n            locale: 'es',\r\n            validators: {\r\n                names_surnames: {\r\n                    message: 'El campo debe contener letras y espacios',\r\n                    rule: (val, params, validator) => {\r\n                        return validator.helpers.testRegex(val, /^[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+(\\s*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]*)*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+$/) && params.indexOf(val) === -1\r\n                    },\r\n                    \r\n                },\r\n                email2:{\r\n                    message: 'El email no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^(?:[^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*|\"[^\\n\"]+\")@(?:[^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\]\\.,;:\\s@\"]{2,63}$/i) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                telefono:{\r\n                    message: 'El telefono no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^[896]\\d{8}$/) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                dni:{\r\n                    message: 'El DNI no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^\\d{8}[a-zA-Z]$/) && params.indexOf(val) === -1\r\n                    },\r\n                }\r\n            },\r\n            messages: {\r\n                required: 'Este campo es obligatorio',\r\n                alpha_num_space: 'Solo se permiten caracteres alfanumericos',\r\n                numeric: 'Solo se permiten numeros',\r\n                email: 'Email no es correcto',\r\n                alpha_space: 'Solo se permiten letras y espacios'\r\n\r\n            },\r\n        });\r\n    }\r\n\r\n    changeState = () => {\r\n        this.setState({\r\n            cita: {\r\n                nombre: this.nombreRef.current.value,\r\n                apellidos: this.apellidosRef.current.value,\r\n                email: this.emailRef.current.value,\r\n                telefono: this.telefonoRef.current.value,\r\n            }\r\n        });\r\n    }\r\n\r\n    recibirFormulario = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.changeState();\r\n\r\n        if (this.validator.allValid()) {\r\n            let cita = this.state.cita;\r\n            axios.post(this.url + 'cita', cita).then((response) => {\r\n                if (response.data.status === 'success') {\r\n                    this.setState({\r\n                        status: 'success'\r\n                    });\r\n                    swal(\r\n                        'Cita enviada',\r\n                        'Contactaremos contigo por email',\r\n                        'success'\r\n                    );\r\n\r\n                    axios.post(this.url + 'email/cita');\r\n                } else {\r\n                    this.setState({\r\n                        status: 'failed'\r\n                    });\r\n                    swal(\r\n                        'Cita no enviada',\r\n                        'Se ha producido un error',\r\n                        'error'\r\n                    );\r\n                }\r\n            });\r\n        } else {\r\n            this.validator.showMessages();\r\n            this.forceUpdate();\r\n            this.setState({\r\n                status: 'failed'\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    render() { \r\n        return ( \r\n        <div id=\"citas\" className=\" col-12\">\r\n        <h2 className=\"text-center p-3 text-md-left\">\r\n            Pedir Cita\r\n        </h2>\r\n        <hr />\r\n\r\n        <form className=\"col-md-5\" onSubmit={this.recibirFormulario} >\r\n            <div className=\"form-group text-left\">\r\n                <label htmlFor=\"nombre\" className=\"ml-2\">Nombre</label>\r\n                <input id=\"nombre\" className=\"form-control mr-2 ml-2\" type=\"text\" name=\"nombre\" ref={this.nombreRef} onChange={this.changeState} required />\r\n                {this.validator.message('nombre', this.state.cita.nombre, 'required|names_surnames')}\r\n            </div>\r\n            <div className=\"form-group text-left\">\r\n                <label htmlFor=\"apellidos\" className=\"ml-2\">Apellidos</label>\r\n                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"apellidos\" ref={this.apellidosRef} onChange={this.changeState} required />\r\n                {this.validator.message('apellidos', this.state.cita.apellidos, 'required|names_surnames')}\r\n            </div>\r\n            <div className=\"form-group text-left\">\r\n                <label htmlFor=\"telefono\" className=\"ml-2\">Telefono</label>\r\n                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"telefono\" ref={this.telefonoRef} onChange={this.changeState} maxLength=\"9\" required />\r\n                {this.validator.message('telefono', this.state.cita.telefono, 'required|telefono')}\r\n            </div>\r\n            <div className=\"form-group text-left\">\r\n                <label htmlFor=\"email\" className=\"ml-2\">Email</label>\r\n                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"email\" ref={this.emailRef} onChange={this.changeState} required />\r\n                {this.validator.message('email', this.state.cita.email, 'required|email2')}\r\n            </div>\r\n            <div className=\"clearfix\"></div>\r\n            {this.state.status=== 'success'\r\n                ?<input type=\"submit\" value=\"Pedir cita\" className=\"btn btn-success\" disabled />\r\n                :<input type=\"submit\" value=\"Pedir cita\" className=\"btn btn-success\" />\r\n            \r\n            }\r\n            \r\n        </form>\r\n    </div> );\r\n    }\r\n}\r\n \r\nexport default Citas;","import React, { Component } from 'react';\r\n\r\nclass Servicios extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (  <h1>Servicios</h1> );\r\n    }\r\n}\r\n \r\nexport default Servicios;","import React from 'react';\r\n\r\nconst Error= ()=>{\r\n    return(\r\n        <section id=\"content\"  className=\"mt-5\">\r\n          <h2 className=\"subheader\">Pagina no encontrada</h2>\r\n          <p>La pagina no existe en la web</p>\r\n          </section>\r\n    );\r\n}\r\n\r\nexport default Error;","import React, { Component } from 'react';\r\nimport { auth } from '../db';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport swal from 'sweetalert';\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport moment from 'moment'\r\nimport {storage} from '../db';\r\n\r\nclass PerfilUsuario extends Component {\r\n    url = Global.url\r\n    userId = null;\r\n    admin = null;\r\n    listHistorial = null;\r\n    nombreRef = React.createRef();\r\n    apellidosRef = React.createRef();\r\n    dniRef = React.createRef();\r\n    telefonoRef = React.createRef();\r\n    textoHistorialRef = React.createRef();\r\n    fechaHistorialRef = React.createRef();\r\n\r\n    state = {\r\n        identity: true,\r\n        user: {},\r\n        status: null,\r\n        loading: true,\r\n        archivo: 'default',\r\n        loading_file: false,\r\n        eliminado:false,\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n        if (this.props.match.params.admin) {\r\n            this.admin = true\r\n\r\n        }\r\n        this.validator = new SimpleReactValidator({\r\n            locale: 'es',\r\n            validators: {\r\n                names_surnames: {\r\n                    message: 'El campo debe contener letras y espacios',\r\n                    rule: (val, params, validator) => {\r\n                        return validator.helpers.testRegex(val, /^[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+(\\s*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]*)*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+$/) && params.indexOf(val) === -1\r\n                    },\r\n\r\n                },\r\n                email2: {\r\n                    message: 'El email no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^(?:[^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*|\"[^\\n\"]+\")@(?:[^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\]\\.,;:\\s@\"]{2,63}$/i) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                telefono: {\r\n                    message: 'El telefono no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^[896]\\d{8}$/) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                dni: {\r\n                    message: 'El DNI no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^\\d{8}[a-zA-Z]$/) && params.indexOf(val) === -1\r\n                    },\r\n                }\r\n            },\r\n            messages: {\r\n                required: 'Este campo es obligatorio',\r\n                alpha_num_space: 'Solo se permiten caracteres alfanumericos',\r\n                numeric: 'Solo se permiten numeros',\r\n                email: 'Email no es correcto',\r\n                alpha_space: 'Solo se permiten letras y espacios'\r\n\r\n            },\r\n        });\r\n\r\n        if (!auth.currentUser) {\r\n            this.setState({\r\n                identity: false\r\n            });\r\n        } else {\r\n            if (this.admin === true) {\r\n                this.userId = this.props.match.params.id\r\n                let email = auth.currentUser.email;\r\n                axios.get(this.url + 'user/' + email).then((response) => {\r\n                    if (response.data.status === 'success' && response.data.user.email === auth.currentUser.email) {\r\n                        this.getUser(this.userId);\r\n\r\n                    } else {\r\n                        this.setState({\r\n                            identity: false\r\n                        });\r\n                    }\r\n                })\r\n\r\n\r\n            } else {\r\n                this.userId = this.props.match.params.id\r\n\r\n                axios.get(this.url + 'getemail/' + this.userId).then((response) => {\r\n                    if (response.data.status === 'success' && response.data.email === auth.currentUser.email) {\r\n                        this.getUser(this.userId);\r\n\r\n                    } else {\r\n                        this.setState({\r\n                            identity: false\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    getUser = (id) => {\r\n        axios.get(this.url + 'getuser/' + id).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    user: response.data.user,\r\n                    historial: response.data.user.historial,\r\n                    loading: false\r\n                })\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    changeState = () => {\r\n        this.setState({\r\n            user: {\r\n                nombre: this.nombreRef.current.value,\r\n                apellidos: this.apellidosRef.current.value,\r\n                telefono: this.telefonoRef.current.value,\r\n                dni: this.dniRef.current.value,\r\n                historial: this.state.historial,\r\n                imagen:this.state.user.imagen\r\n            }\r\n        });\r\n    }\r\n\r\n    addHistorial = () => {\r\n        let historialaux = this.state.historial;\r\n\r\n        let add = { texto: this.textoHistorialRef.current.value, fecha: moment(this.fechaHistorialRef.current.value).format(\"DD/MM/YYYY\") }\r\n        historialaux.push(add)\r\n\r\n        this.textoHistorialRef.current.value = \"\"\r\n        this.setState({\r\n            historial: historialaux\r\n        })\r\n\r\n\r\n    }\r\n\r\n    recogerFoto = (event) => {\r\n        this.setState({\r\n            archivo: event.target.files[0]\r\n        })\r\n    }\r\n\r\n    recibirFormulario = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.changeState();\r\n\r\n        if (this.validator.allValid()) {\r\n\r\n            if (this.state.archivo !== 'default') {\r\n                this.setState({\r\n                    loading_file: true\r\n                })\r\n                storage.ref(this.state.archivo.name).put(this.state.archivo).then(() => {\r\n                    storage.ref().child(this.state.archivo.name).getDownloadURL().then(\r\n                        url => {\r\n                            this.setState({\r\n                                loading_file: false\r\n                            })\r\n                            let user = this.state.user;\r\n                            axios.put(this.url + 'user', { user, userId: this.userId, url }).then((response) => {\r\n                                if (response.data.status === 'success') {\r\n                                    this.setState({\r\n                                        user: {\r\n                                            nombre: this.nombreRef.current.value,\r\n                                            apellidos: this.apellidosRef.current.value,\r\n                                            telefono: this.telefonoRef.current.value,\r\n                                            dni: this.dniRef.current.value,\r\n                                            historial: this.state.historial,\r\n                                            imagen:url\r\n                                        },\r\n                                        status: 'success'\r\n                                    });\r\n                                    swal(\r\n                                        'Usuario actualizado',\r\n                                        'Tu perfil se ha actualizado correctamente',\r\n                                        'success'\r\n                                    );\r\n                                } else {\r\n                                    this.setState({\r\n                                        status: 'failed'\r\n                                    });\r\n                                    swal(\r\n                                        'Usuario no actualizado',\r\n                                        'Tu perfil no se ha actualizado correctamente',\r\n                                        'error'\r\n                                    );\r\n                                }\r\n                            });\r\n                        });\r\n                });\r\n            } else {\r\n                let user = this.state.user;\r\n                axios.put(this.url + 'user', { user, userId: this.userId, url:this.state.user.imagen }).then((response) => {\r\n                    if (response.data.status === 'success') {\r\n                        this.setState({\r\n                            user: {\r\n                                nombre: this.nombreRef.current.value,\r\n                                apellidos: this.apellidosRef.current.value,\r\n                                telefono: this.telefonoRef.current.value,\r\n                                dni: this.dniRef.current.value,\r\n                                historial: this.state.historial,\r\n                                imagen:this.state.user.imagen\r\n                            },\r\n                            status: 'success'\r\n                        });\r\n                        swal(\r\n                            'Usuario actualizado',\r\n                            'Tu perfil se ha actualizado correctamente',\r\n                            'success'\r\n                        );\r\n                    } else {\r\n                        this.setState({\r\n                            status: 'failed'\r\n                        });\r\n                        swal(\r\n                            'Usuario no actualizado',\r\n                            'Tu perfil no se ha actualizado correctamente',\r\n                            'error'\r\n                        );\r\n                    }\r\n                });\r\n            }\r\n\r\n        } else {\r\n            this.validator.showMessages();\r\n            this.forceUpdate();\r\n            this.setState({\r\n                status: 'failed'\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    eliminarUsuario=()=>{\r\n        let id=this.userId\r\n        axios.delete(this.url +'user/'+id).then((response) => {\r\n            if(response.data.status === 'success') {\r\n                swal(\r\n                    'Usuario eliminado',\r\n                    'El usuario ha sido eliminado correctamente',\r\n                    'success'\r\n                );\r\n\r\n            }else{\r\n                swal(\r\n                    'Usuario no eliminado',\r\n                    'Se ha producido un error al eliminar usuario',\r\n                    'error'\r\n                );\r\n            }\r\n        }); \r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        if (this.state.loading === false) {\r\n            return (\r\n\r\n                <div id=\"info\" className=\"col-lg-12 mt-3\">\r\n                    {this.state.identity === true\r\n                        ? <React.Fragment>\r\n                            {this.admin === true\r\n                                ? <React.Fragment>\r\n                                    <h2>\r\n                                        Perfil de: {this.state.user.nombre + ' ' + this.state.user.apellidos}\r\n                                    </h2><small>{this.state.user.email}</small>\r\n                                </React.Fragment>\r\n                                : <h2>\r\n                                    Mi perfil   -   {this.state.user.nombre + ' ' + this.state.user.apellidos}\r\n                                </h2>\r\n                            }\r\n                            <hr />\r\n                            <div className=\"row\">\r\n\r\n                                <img className=\"user-image\" src={this.state.user.imagen} alt=\"user\" />\r\n\r\n\r\n\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <form className=\"col-md-5 ml-4 pl-0\" onSubmit={this.recibirFormulario} >\r\n                                    <div className=\"form-group text-left\">\r\n                                        <label htmlFor=\"nombre\" className=\"ml-2\">Nombre</label>\r\n                                        <input id=\"nombre\" className=\"form-control\" type=\"text\" value={this.state.user.nombre} name=\"nombre\" ref={this.nombreRef} onChange={this.changeState} required />\r\n                                        {this.validator.message('nombre', this.state.user.nombre, 'required|names_surnames')}\r\n                                    </div>\r\n                                    <div className=\"form-group text-left\">\r\n                                        <label htmlFor=\"apellidos\" className=\"ml-2\">Apellidos</label>\r\n                                        <input className=\"form-control\" type=\"text\" name=\"apellidos\" value={this.state.user.apellidos} ref={this.apellidosRef} onChange={this.changeState} required />\r\n                                        {this.validator.message('apellidos', this.state.user.apellidos, 'required|names_surnames')}\r\n                                    </div>\r\n                                    <div className=\"form-group text-left\">\r\n                                        <label htmlFor=\"telefono\" className=\"ml-2\">Telefono</label>\r\n                                        <input className=\"form-control\" type=\"text\" name=\"telefono\" value={this.state.user.telefono} ref={this.telefonoRef} onChange={this.changeState} maxLength=\"9\" required />\r\n                                        {this.validator.message('telefono', this.state.user.telefono, 'required|telefono')}\r\n                                    </div>\r\n                                    <div className=\"form-group text-left\">\r\n                                        <label htmlFor=\"dni\" className=\"ml-2\">DNI</label>\r\n                                        <input className=\"form-control\" type=\"text\" name=\"dni\" value={this.state.user.dni} ref={this.dniRef} onChange={this.changeState} required />\r\n                                        {this.validator.message('dni', this.state.user.dni, 'required|dni')}\r\n                                    </div>\r\n                                    <div className=\"form-group text-left\">\r\n                                        <label htmlFor=\"image\" className=\"ml-2\">Avatar</label>\r\n                                        <input className=\"form-control-file mr-2 ml-2\" type=\"file\" name=\"imagen\" onChange={(e) => this.recogerFoto(e)} />\r\n                                        {this.state.loading_file === true &&\r\n                                            <small>Cargando imagen...</small>\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"clearfix\"></div>\r\n                                    <input type=\"submit\" value=\"Actualizar datos\" className=\"btn btn-success\" />\r\n                                </form>\r\n\r\n\r\n                                {this.admin === true &&\r\n                                    <React.Fragment>\r\n                                        <div className=\"col-md-6 ml-5\">\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-12\">\r\n                                                    <label htmlFor=\"textoHistorial\">Agregar al historial</label>\r\n                                                    <input className=\"form-control mt-1 mb-1\" type=\"text\" name=\"textoHistorial\" ref={this.textoHistorialRef} required />\r\n                                                    <input className=\"form-control mt-1 mb-1\" type=\"date\" name=\"fechaHistorial\" ref={this.fechaHistorialRef} required />\r\n                                                    <input className=\"btn btn-success mt-1 mb-1\" type=\"button\" value=\"Añadir\" onClick={this.addHistorial} />\r\n                                                </div>\r\n\r\n\r\n                                                <div className=\"historial col-12 mt-4\">\r\n                                                    <ul className=\"list-group\">\r\n                                                        {this.state.historial !== undefined && this.state.historial.length !== null && this.state.historial.length >= 1\r\n\r\n                                                            ? this.listHistorial = this.state.historial.map((data, i) => {\r\n                                                                return (\r\n                                                                    <li className=\"list-group-item\" key={i} >\r\n                                                                        <p>{data.texto + ' - ' + data.fecha}</p>\r\n                                                                    </li>\r\n                                                                );\r\n                                                            })\r\n                                                            : <li className=\"list-group-item error\"><h3>No hay ningun historial</h3></li>\r\n\r\n                                                        }\r\n                                                    </ul>\r\n                                                </div>\r\n\r\n                                                <button className=\"btn btn-danger\" style={{margin: \"2rem auto\"}} onClick={this.eliminarUsuario} >Eliminar usuario</button>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </React.Fragment>\r\n                                }\r\n\r\n                            </div>\r\n                        </React.Fragment>\r\n                        : <React.Fragment>\r\n                            {this.admin === true\r\n                                ? <div id=\"info\">\r\n                                    <h1 className=\"mt-5\">Problema con carga de Usuario</h1>\r\n                                </div>\r\n                                : <Redirect to=\"/login\" />\r\n                            }\r\n                        </React.Fragment>\r\n                    }\r\n\r\n\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div id=\"info\">\r\n                    <h1 className=\"mt-5 cargando\">Cargando...</h1>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default PerfilUsuario;","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport Global from \"../../Global\"\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nclass UsuariosAdmin extends Component {\r\n    url = Global.url\r\n    state = {\r\n        users:{},\r\n        message: null,\r\n        status: null\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n        axios.get(this.url + 'users').then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    users: response.data.users,\r\n                    status: 'success'\r\n                });\r\n\r\n\r\n\r\n            } else {\r\n                this.setState({\r\n                    status: 'error',\r\n                    message: response.data.message\r\n                });\r\n                \r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.state.users.length >= 1) {\r\n            var listUsers = this.state.users.map((data, i) => {\r\n\r\n                return (\r\n\r\n                    <div key={i} id={data.userId} className=\"card\" >\r\n                        <img className=\"card-img-top\" src={data.user.imagen} alt=\"Cardcap\" />\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title \">{data.user.nombre + ' ' + data.user.apellidos}</h5>\r\n                            <small className=\"card-text\">{data.user.email}</small><br />\r\n                        </div>\r\n                        <div className=\"card-footer\">\r\n                            <Link to={\"/adminperfil/requestuser/\" + data.userId} className=\"btn btn-primary\">Ver Perfil</Link>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n\r\n            return (\r\n                <div id=\"clientes\" className=\"row\">\r\n                    {listUsers}\r\n                </div>\r\n            );\r\n        } else if (this.state.users.length === undefined && this.state.status === 'error') {\r\n            return (\r\n                <div id=\"clientes\" className=\"text-center\">\r\n                    <h1 className=\"mt-5 error\">No hay clientes para mostrar</h1>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div id=\"clientes\" className=\"text-center\">\r\n                    <h1 className=\"mt-5 cargando\">Cargando...</h1>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default UsuariosAdmin;","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport Global from \"../../Global\"\r\nimport swal from 'sweetalert';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\n\r\n\r\nclass PedidosAdmin extends Component {\r\n    url = Global.url;\r\n    pedidoaux = []\r\n\r\n    state = {\r\n        pedidos: [],\r\n        status: null,\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        axios.get(this.url + 'pendingpedidos').then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    pedidos: response.data.pedidos,\r\n                    status: 'success'\r\n                });\r\n\r\n\r\n            } else {\r\n                this.setState({\r\n                    status: 'error'\r\n                });\r\n\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n    pulsadoEvento = (id) => {\r\n        this.state.pedidos.forEach((element, i) => {\r\n            if (id === element.pedidoId) {\r\n                this.pedidoaux.push(element)\r\n                this.setState({\r\n                    show: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    cerradoEvento = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n        this.pedidoaux = [];\r\n    }\r\n\r\n\r\n\r\n\r\n    updatePedido(id, i, estado) {\r\n        let state = estado\r\n        let pedido = this.state.pedidos[i].pedido;\r\n\r\n        axios.put(this.url + 'pedido', { state, id }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                let pedidosaux = this.state.pedidos;\r\n                if (state === 'terminado' || state === 'rechazado') { //confirmado, enviado, terminado, rechazado\r\n                    pedidosaux.splice(i, 1);\r\n                    this.setState({\r\n                        pedidos: pedidosaux,\r\n                        status: 'success'\r\n                    });\r\n                }else{\r\n                    pedidosaux[i].pedido.estado = state\r\n                    this.setState({\r\n                        pedidos: pedidosaux,\r\n                        status: 'success'\r\n                    });\r\n                }\r\n\r\n               \r\n\r\n                swal(\r\n                    'Pedido actualizado correctamente',\r\n                    'Se enviara un email al usuario con nuevos datos de su pedido',\r\n                    'success'\r\n                );\r\n                this.forceUpdate();\r\n\r\n\r\n                if (state === 'rechazado' || state === 'confirmado' || state === 'enviado') {\r\n                    axios.post(this.url + 'email/adminpedido', { pedido, state });\r\n                }\r\n\r\n            } else {\r\n                swal(\r\n                    'Pedido no se ha actualizado correctamente',\r\n                    'Pedido no actualizado',\r\n                    'error'\r\n                );\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        if (this.state.pedidos.length >= 1) {\r\n            var listPedidos = this.state.pedidos.map((data, i) => {\r\n                return (\r\n                    <li className=\"list-group-item \" key={i} >\r\n                        <div className=\"row\">\r\n                            <div className=\"col-3 m-1 pedido-list-item\" onClick={() => this.pulsadoEvento(data.pedidoId)}>\r\n                                <h5>{data.pedido.detalles.nombre + ' ' + data.pedido.detalles.apellidos}</h5>\r\n                                <p>{data.pedido.detalles.email}</p>\r\n                            </div>\r\n                            <div className=\"col-md-3 col-9 pedido-list-item\" onClick={() => this.pulsadoEvento(data.pedidoId)}>\r\n                                <div className=\"row  \">\r\n                                    <div className=\"col-5 m-1\">\r\n                                        <h6>Fecha: </h6>\r\n                                        <p>{data.pedido.fecha}</p>\r\n                                    </div>\r\n                                    <div className=\"col-5 m-1\">\r\n                                        <h6>Estado:</h6>\r\n                                        <p>{data.pedido.estado}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"col-md-5 col-12 m-1\">\r\n                                <button className=\"btn btn-success mr-1 ml-1\" onClick={() => this.updatePedido(data.pedidoId, i, 'confirmado')}>Confirmar</button>\r\n                                <button className=\"btn btn-primary mr-1 ml-1\" onClick={() => this.updatePedido(data.pedidoId, i, 'enviado')}>Enviado</button>\r\n                                <button className=\"btn btn-secondary mr-1 ml-1\" onClick={() => this.updatePedido(data.pedidoId, i, 'terminado')}>Terminado</button>\r\n                                <button className=\"btn btn-danger mr-1 ml-1\" onClick={() => this.updatePedido(data.pedidoId, i, 'rechazado')}>Rechazar</button>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </li>\r\n\r\n                )\r\n            })\r\n\r\n            return (\r\n                <div id=\"clientes \" className=\"text-center\">\r\n                    <ul className=\"list-group\">\r\n                        {listPedidos}\r\n                    </ul>\r\n                    {/* MODAL DE DETALLE DE PRODUCTO */}\r\n                    {this.pedidoaux.length === 1 &&\r\n                        <Modal show={this.state.show} onHide={this.cerradoEvento} size=\"lg\"\r\n                            aria-labelledby=\"contained-modal-title-vcenter\"\r\n                            centered>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title className=\"text-center\">\r\n                                    <h4>ID: {this.pedidoaux[0].pedidoId}</h4>\r\n                                    <p><strong>Fecha: </strong>{this.pedidoaux[0].pedido.fecha}</p>\r\n                                    <p><strong>Direccion de envio: </strong>{this.pedidoaux[0].pedido.detalles.direccion + ', ' + this.pedidoaux[0].pedido.detalles.municipio + ', ' + this.pedidoaux[0].pedido.detalles.provincia + ' - ' + this.pedidoaux[0].pedido.detalles.cp}</p>\r\n                                </Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <div className=\"infocitacontacto pl-3\">\r\n                                    <h6 className=\"m-1 \">Telefono: {this.pedidoaux[0].pedido.detalles.telefono}</h6>\r\n                                    <h6 className=\"m-1 \">Email: {this.pedidoaux[0].pedido.detalles.email}</h6>\r\n                                    <h6 className=\"m-1\">ID usuario: {this.pedidoaux[0].pedido.id_usuario}</h6>\r\n                                </div>\r\n                                <div className=\"infocarrito pl-3\">\r\n                                    <ul>{\r\n                                        this.pedidoaux[0].pedido.productos.map((data, i) => {\r\n                                            return (\r\n                                                <li key={i} className=\"list-group-item m-2\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\" col-8 text-md-left text-center\" >\r\n                                                            <img src={data.imagen} className=\"imagencarrito\" alt=\"Cartimg\" />\r\n                                                            <p className=\"d-inline  m-3\">{data.nombre}</p>\r\n                                                        </div>\r\n                                                        <div className=\"col-4 align-self-center\">\r\n                                                            <div className=\"row justify-content-center\">\r\n                                                                <div className=\"col mt-2\">\r\n                                                                    <div className=\"row flex-nowrap align-items-center justify-content-center align-self-center\">\r\n                                                                        <div className=\"col text-center p-1\" >\r\n                                                                            <label className=\"text-center \">Cantidad: <strong>{data.cantidad}</strong></label>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </li>\r\n                                            );\r\n                                        })\r\n\r\n                                    }\r\n                                        <li className=\"list-group-item m-2 text-right\"><p className=\"h6 mr-3\">Total: {this.pedidoaux[0].pedido.precio_total} €</p></li>\r\n                                    </ul>\r\n                                </div>\r\n\r\n\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button variant=\"secondary\" onClick={this.cerradoEvento}>\r\n                                    Cerrar\r\n                        </Button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n\r\n                    }\r\n\r\n                </div>\r\n            );\r\n        } else if (this.state.pedidos.length === undefined || this.state.status === 'error') {\r\n            return (\r\n                <div id=\"clientes\" className=\"text-center\">\r\n                    <h1 className=\"mt-5 error\">No hay pedidos para mostrar</h1>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div id=\"clientes\" className=\"text-center\">\r\n                    <h1 className=\"mt-5 cargando\">Cargando...</h1>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default PedidosAdmin;","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport Global from \"../../Global\"\r\nimport swal from 'sweetalert';\r\nimport moment from 'moment'\r\n\r\n\r\nclass CitasAdmin extends Component {\r\n    url = Global.url\r\n\r\n    state = {\r\n        citas: [],\r\n        status: null,\r\n    }\r\n\r\n    componentWillMount() {\r\n        axios.get(this.url + 'pendingcitas').then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    citas: response.data.citas,\r\n                    status: 'success'\r\n                });\r\n\r\n\r\n            } else {\r\n                this.setState({\r\n                    status: 'error'\r\n                });\r\n\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n   updateCita(event, id, i){\r\n        event.preventDefault(); \r\n\r\n        let fecha=moment(event.target[0].value).format(\"DD/MM/YYYY\")\r\n        let hora=event.target[1].value \r\n        let cita= this.state.citas[i].cita;\r\n        cita.hora=hora;\r\n        cita.fecha=fecha;\r\n        cita.estado='actualizado';\r\n\r\n        axios.put(this.url + 'cita', {cita, id}).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                let citasaux=this.state.citas; \r\n                citasaux.splice(i,1);\r\n                this.setState({\r\n                    citas: citasaux, \r\n                    status: 'success'\r\n                });\r\n                swal(\r\n                    'Cita guardada correctamente',\r\n                    'Cita se ha guardado en tu calendario correctamente', \r\n                    'success'\r\n                );\r\n                this.forceUpdate();\r\n\r\n                axios.post(this.url+'email/confirmacita', {cita});\r\n\r\n            }else{\r\n                swal(\r\n                    'Cita no se ha guardado correctamente',\r\n                    'Cita no se ha guardado en tu calendario',\r\n                    'error'\r\n                );\r\n            } \r\n        }); \r\n    }\r\n\r\n    render() {\r\n        if (this.state.citas.length >= 1) {\r\n            var listCitas = this.state.citas.map((data, i) => {\r\n                return (\r\n                    <li className=\"list-group-item\" key={i}>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-4\">\r\n                                <h5>{data.cita.user.nombre + ' ' + data.cita.user.apellidos}</h5>\r\n                                <p>{data.cita.user.email}</p>\r\n                            </div>\r\n                            <div className=\"col-md-8 col-12\">\r\n                        <form  onSubmit={(e)=>this.updateCita(e, data.citaId, i)}>\r\n                            <div className=\"row\">\r\n                                <div className=\"col\">\r\n                            <input className=\"form-control m-1\" type=\"date\" name=\"fechaCita\"  required/>\r\n                            </div>\r\n                            <div className=\"col\">\r\n                            <input className=\"form-control m-1 \" type=\"time\" name=\"horaCita\"  min=\"09:00\" max=\"20:00\" required  />\r\n                            </div>\r\n                            <div className=\"col\">\r\n                            <input className=\"btn btn-success mr-4 ml-4\" type=\"submit\"  value=\"Aceptar\"/>\r\n                            </div>\r\n                            </div>\r\n                        </form>\r\n                        </div>\r\n                        </div>\r\n                    </li>\r\n\r\n                )\r\n            })\r\n\r\n            return (\r\n                <ul className=\"list-group\">\r\n                    {listCitas}\r\n                </ul>\r\n            );\r\n        } else if (this.state.citas.length === undefined || this.state.status === 'error') {\r\n            return (\r\n                <div id=\"clientes\" className=\"text-center\">\r\n                    <h1 className=\"mt-5 error\">No hay citas para mostrar</h1>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div id=\"clientes\" className=\"text-center\">\r\n                    <h1 className=\"mt-5 cargando\">Cargando...</h1>\r\n                </div>\r\n            );\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default CitasAdmin;","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar'\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport axios from \"axios\";\r\nimport Global from \"../../Global\"\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport swal from 'sweetalert';\r\n\r\n\r\nconst localizer = momentLocalizer(moment)\r\n\r\nclass Calendario extends Component {\r\n    eventsList = []\r\n    url = Global.url\r\n    citaaux = []\r\n    state = {\r\n        citas: [],\r\n        message: null,\r\n        status: null,\r\n        show: false,\r\n    }\r\n\r\n    componentWillMount() {\r\n        axios.get(this.url + 'updatedcitas').then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    citas: response.data.citas,\r\n                    status: 'success'\r\n                });\r\n\r\n                this.actualizadorCitas();\r\n\r\n                this.forceUpdate();\r\n\r\n            } else {\r\n                this.setState({\r\n                    status: 'error',\r\n                    message: response.data.message\r\n                });\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    actualizadorCitas = () => {\r\n        this.eventsList = [];\r\n        this.state.citas.forEach((element, i) => {\r\n            let fecha2_split = element.cita.fecha.split(\"/\");\r\n            let hora2_split = element.cita.hora.split(\":\");\r\n            this.eventsList.push(\r\n                {\r\n                    title: element.cita.user.nombre + \" \" + element.cita.user.apellidos,\r\n                    start: new Date(parseInt(fecha2_split[2]), parseInt(fecha2_split[1]) - 1, parseInt(fecha2_split[0]), parseInt(hora2_split[0]), parseInt(hora2_split[1]), 0),\r\n                    end: new Date(parseInt(fecha2_split[2]), parseInt(fecha2_split[1]) - 1, parseInt(fecha2_split[0]), parseInt(hora2_split[0]) + 1, parseInt(hora2_split[1]), 0),\r\n                    id: element.citaId\r\n                }\r\n            );\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n\r\n    pulsadoEvento = (event) => {\r\n        this.state.citas.forEach((element, i) => {\r\n            if (event.id === element.citaId) {\r\n                this.citaaux.push(element)\r\n                this.setState({\r\n                    show: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    cerradoEvento = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n        this.citaaux = [];\r\n    }\r\n\r\n    \r\n    updateCita(event, id) {\r\n        event.preventDefault();\r\n\r\n        let fecha = moment(event.target[0].value).format(\"DD/MM/YYYY\")\r\n        let hora = event.target[1].value\r\n        let cita = this.citaaux[0].cita;\r\n        cita.hora = hora;\r\n        cita.fecha = fecha;\r\n        cita.estado = 'actualizado';\r\n\r\n        axios.put(this.url + 'cita', { cita, id }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.actualizadorCitas();\r\n                this.cerradoEvento();\r\n                swal(\r\n                    'Cita guardada correctamente',\r\n                    'Cita se ha guardado en tu calendario correctamente',\r\n                    'success'\r\n                );\r\n                this.forceUpdate();\r\n                axios.post(this.url + 'email/cambiocita', { cita });\r\n\r\n            } else {\r\n                swal(\r\n                    'Cita no se ha guardado correctamente',\r\n                    'Cita no se ha guardado en tu calendario',\r\n                    'error'\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    envioRecordatorio(citaaux) {\r\n        let cita = citaaux;\r\n        axios.post(this.url + 'email/recordatorio', { cita }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                swal(\r\n                    'Recordatorio de cita enviado',\r\n                    'Se ha enviado un correo de recordatorio al cliente',\r\n                    'success'\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"bigCalendar-container\">\r\n                    <Calendar\r\n                        localizer={localizer}\r\n                        events={this.eventsList}\r\n                        startAccessor=\"start\"\r\n                        endAccessor=\"end\"\r\n                        defaultView=\"week\"\r\n                        onSelectEvent={(e) => {\r\n                            this.pulsadoEvento(e)\r\n                        }}\r\n                        min={new Date(2008, 0, 1, 9, 0)}\r\n                        max={new Date(2008, 0, 1, 20, 0)}\r\n                        style={{ height: 500, margin: \"2rem\" }}\r\n                    />\r\n\r\n\r\n                </div>\r\n\r\n\r\n\r\n                        {/* MODAL DE DETALLE DE CITA */}\r\n                {this.citaaux.length === 1 &&\r\n                    <Modal show={this.state.show} onHide={this.cerradoEvento} size=\"lg\"\r\n                        aria-labelledby=\"contained-modal-title-vcenter\"\r\n                        centered>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title className=\"text-center\">\r\n                                <h2>{this.citaaux[0].cita.fecha + \" - \" + this.citaaux[0].cita.hora}</h2>\r\n                                <h4>{this.citaaux[0].cita.user.nombre + \" \" + this.citaaux[0].cita.user.apellidos}</h4>\r\n                            </Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <div className=\"infocitacontacto pl-3\">\r\n                                <h6 className=\"m-1 \">Telefono: {this.citaaux[0].cita.user.telefono}</h6>\r\n                                <h6 className=\"m-1 \">Email: {this.citaaux[0].cita.user.email}</h6>\r\n                            </div>\r\n                            <div className=\"infoactualizarcita mt-3\">\r\n                                {/* INPUT DATE Y HORA Y BOTON PARA ACTUALIZAR  */}\r\n                                <form className=\"col-12\" onSubmit={(e) => this.updateCita(e, this.citaaux[0].citaId)}>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col\">\r\n                                            <input className=\"form-control m-1\" type=\"date\" name=\"fechaCita\" required />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <input className=\"form-control m-1 \" type=\"time\" name=\"horaCita\" min=\"09:00\" max=\"20:00\" required />\r\n                                        </div>\r\n                                        <div className=\"col\">\r\n                                            <input className=\"btn btn-success m-1\" type=\"submit\" value=\"Actualizar cita\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    </form>\r\n                                    {/* BOTON ENVIAR RECORDATORIO */}\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col d-flex justify-content-between  mt-2 mb-2\">\r\n                                            <button className=\"btn btn-primary m-auto\" onClick={() => this.envioRecordatorio(this.citaaux[0].cita)} >Enviar recordatorio</button>\r\n                                        </div>\r\n                                    </div>\r\n                                \r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"secondary\" onClick={this.cerradoEvento}>\r\n                                Cerrar\r\n                            </Button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n\r\n                }\r\n\r\n\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Calendario;","import React, { Component } from 'react';\r\nimport { auth } from '../db';\r\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport UsuariosAdmin from './panelAdmin/UsuariosAdmin';\r\nimport PedidosAdmin from './panelAdmin/PedidosAdmin';\r\nimport CitasAdmin from './panelAdmin/CitasAdmin';\r\nimport PerfilUsuario from './PerfilUsuario';\r\nimport Calendario from './panelAdmin/Calendario';\r\nimport { MDBNav, MDBNavItem, MDBNavLink } from \"mdbreact\";\r\n\r\nclass PerfilAdmin extends Component {\r\n    url = Global.url\r\n    userId = null;\r\n    state = {\r\n        identity: true,\r\n        user: {},\r\n        status: null,\r\n        loading:true\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (auth.currentUser === undefined) {\r\n            this.setState({\r\n                identity: false\r\n            });\r\n        } else {\r\n\r\n            this.userId = this.props.match.params.adminid\r\n\r\n            axios.get(this.url + 'getemail/' + this.userId).then((response) => {\r\n                if (response.data.status === 'success' && response.data.email === auth.currentUser.email) {\r\n                    this.getUser(this.userId);\r\n\r\n                } else {\r\n                    this.setState({\r\n                        identity: false\r\n                    });\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    getUser = (id) => {\r\n        axios.get(this.url + 'getuser/' + id).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    user: response.data.user,\r\n                    loading:false\r\n                })\r\n\r\n                if (this.state.user.admin === false) {\r\n                    this.setState({\r\n                        identity: false\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        if(this.state.loading===false){\r\n        return (\r\n            <div id=\"admin\" className=\"col-lg-12 mt-3\">\r\n                {this.state.identity === true\r\n                    ? <React.Fragment>\r\n                        <h2>\r\n                            Bienvenido   -   {this.state.user.nombre + ' ' + this.state.user.apellidos}\r\n                        </h2>\r\n                        <hr />\r\n                        <BrowserRouter>\r\n                            <div id=\"panel\">\r\n                                <Redirect exact from=\"/\" to={\"/adminperfil/\" + this.userId + \"/clientes\"} />\r\n\r\n\r\n                                <MDBNav className=\"nav-tabs mt-5\">\r\n                                    <MDBNavItem>\r\n                                        <MDBNavLink to={\"/adminperfil/\" + this.userId + \"/clientes\"}>Clientes</MDBNavLink>\r\n                                    </MDBNavItem>\r\n                                    <MDBNavItem>\r\n                                        <MDBNavLink to={\"/adminperfil/\" + this.userId + \"/citas\"}>Citas</MDBNavLink>\r\n                                    </MDBNavItem>\r\n                                    <MDBNavItem>\r\n                                        <MDBNavLink to={\"/adminperfil/\" + this.userId + \"/calendario\"}>Calendario</MDBNavLink>\r\n                                    </MDBNavItem>\r\n                                    <MDBNavItem>\r\n                                        <MDBNavLink to={\"/adminperfil/\" + this.userId + \"/pedidos\"}>Pedidos</MDBNavLink>\r\n                                    </MDBNavItem>\r\n                                </MDBNav>\r\n\r\n\r\n                                <Switch>\r\n\r\n                                    <Route path={\"/adminperfil/\" + this.userId + \"/clientes\"} >\r\n                                        <UsuariosAdmin />\r\n                                    </Route>\r\n                                    <Route path={\"/adminperfil/\" + this.userId + \"/citas\"} >\r\n                                        <CitasAdmin />\r\n                                    </Route>\r\n\r\n                                    <Route path={\"/adminperfil/\" + this.userId + \"/calendario\"} >\r\n                                        <Calendario />\r\n                                    </Route>\r\n                                    <Route path={\"/adminperfil/\" + this.userId + \"/pedidos\"} >\r\n                                        <PedidosAdmin />\r\n                                    </Route> \r\n                                    <Route exact path=\"/perfil/:id/:admin\" component={PerfilUsuario}/>\r\n                                    <Route path={\"/adminperfil/requestuser/:id\"}\r\n                                        render={\r\n                                            (props) => {\r\n                                                var userId = props.match.params.id;\r\n                                                var admin=true;\r\n                                                return (\r\n                                                    <Redirect to={'/perfil/' + userId + '/'+admin} />\r\n                                                )\r\n                                            }\r\n                                        }\r\n                                    />\r\n\r\n                                </Switch>\r\n\r\n                            </div>\r\n                        </BrowserRouter>\r\n\r\n\r\n                    </React.Fragment>\r\n                    : <React.Fragment>\r\n                        <Redirect to=\"/login\" />\r\n                    </React.Fragment>\r\n                }\r\n\r\n            </div>\r\n        );\r\n\r\n            }else{\r\n                return(\r\n                    <h1 className=\"mt-5 cargando\">Cargando....</h1>\r\n                );\r\n            }\r\n    }\r\n}\r\n\r\nexport default PerfilAdmin;","import React, { Component } from 'react';\r\nimport { auth } from '../db';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport swal from 'sweetalert';\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\n\r\nclass Carrito extends Component {\r\n    url = Global.url\r\n    userId = null;\r\n    loading=true;\r\n\r\n    state = {\r\n        carrito: [],\r\n        identity: true,\r\n        user: {},\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        this.getCarrito();\r\n    }\r\n    componentWillMount() {\r\n        if (!auth.currentUser) {\r\n            this.setState({\r\n                identity: false\r\n            });\r\n        } else {\r\n            this.userId = this.props.location.state.userId\r\n            if (this.userId === \"null\") {\r\n                this.setState({\r\n                    identity: false\r\n                });\r\n            } else {\r\n                axios.get(this.url + 'getemail/' + this.userId).then((response) => {\r\n                    if (response.data.status === 'success' && response.data.email === auth.currentUser.email) {\r\n                        this.getUser(this.userId);\r\n                    } else {\r\n                        this.setState({\r\n                            identity: false\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    getCarrito=()=>{\r\n        axios.get(this.url + 'carrito').then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    carrito: response.data.carrito,\r\n                })\r\n                this.loading=false;\r\n            } \r\n        });\r\n    }\r\n\r\n\r\n    getUser = (id) => {\r\n        axios.get(this.url + 'getuser/' + id).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    user: response.data.user\r\n                })\r\n                /* this.getCarrito(); */\r\n                \r\n            }\r\n        })\r\n    }\r\n\r\n    agregarItem = (id) => {\r\n        axios.post(this.url + 'carrito/agregar', { item_id: id }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    carrito: response.data.carrito\r\n                })\r\n            } \r\n\r\n        });\r\n    }\r\n\r\n    reducirItem = (id) => {\r\n        axios.post(this.url + 'carrito/quitar', { item_id: id }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    carrito: response.data.carrito\r\n                })\r\n            } \r\n\r\n        });\r\n    }\r\n\r\n    eliminarItem=(id)=>{\r\n        axios.post(this.url + 'carrito/eliminar', { item_id: id }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    carrito: response.data.carrito\r\n                })\r\n                swal(\r\n                    'Producto eliminado correctamente',\r\n                    'El producto se ha eliminado del carrito correctamente',\r\n                    'success'\r\n                );\r\n\r\n            } else {\r\n                swal(\r\n                    'El producto no se ha eliminado correctamente',\r\n                    'Ha ocurrido un error al eliminar el producto del carrito, intentelo mas tarde',\r\n                    'error'\r\n                );\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    procesarCompra=()=>{\r\n\r\n    }\r\n\r\n    \r\n    render() {\r\n\r\n        var carrito;\r\n        if (this.state.carrito.length >= 1) {\r\n            carrito = this.state.carrito.map((data, i) => {\r\n                return (\r\n\r\n                    <li key={i} className=\"list-group-item m-2\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 col-12 text-md-left text-center\" >\r\n                                <img src={data.imagen} className=\"imagencarrito\" alt=\"Cartimg\" />\r\n                                <p className=\"d-md-inline  m-3\">{data.nombre}</p>\r\n                            </div>\r\n                            <div className=\"col-md-8 col-12 align-self-center\">\r\n                                <div className=\"row justify-content-center\">\r\n                                    <div className=\"col mt-2\">\r\n                                        <div className=\"row flex-nowrap align-items-center justify-content-center align-self-center\">\r\n                                            <div className=\"col\">\r\n                                                <button className=\"btn btn-danger m-1\" onClick={() => this.reducirItem(data.id)}>-</button>\r\n                                            </div>\r\n                                            <div className=\"col text-center p-1\"  style={{backgroundColor:'#A4AAA5', border:'1px solid black', borderRadius:'4px',color:'white'}}>\r\n                                                    <label className=\"text-center \"> {data.cantidad}</label>\r\n                                            </div>\r\n                                            <div className=\"col\">\r\n                                                <button className=\"btn btn-success m-1\" onClick={() => this.agregarItem(data.id)}>+</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-xs-12 col-md-2 mt-2\">\r\n                                            <label className=\"text-center \">Total: <strong>{data.precio_total} €</strong></label>\r\n                                    </div>\r\n                                    <div className=\"col mt-2\">\r\n                                        <button className=\"btn btn-danger mr-4 ml-4\" onClick={() => this.eliminarItem(data.id)}>Eliminar</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                );\r\n            });\r\n        } else if (this.state.carrito.length===0 && this.loading===false) {\r\n            carrito = <h1 className=\"mt-5 text-center error\">No hay productos en el carrito</h1>\r\n        } else {\r\n            carrito =\r\n                <h1 className=\"mt-5 text-center cargando\">Cargando...</h1>\r\n        }\r\n\r\n        if (this.state.identity === false) {\r\n            return (\r\n                <Redirect to=\"/login\" />\r\n            )\r\n        } else {\r\n            return (\r\n                <div id=\"carrito\" className=\"container mt-4\">\r\n                    <div className=\"row \">\r\n                        <div className=\"col-12 text-left m-4\">\r\n                        <h2>Carrito</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                    <div id=\"carrito-list\" className=\"col-md-8 col-12 m-2\">\r\n                        <ul className=\"p-3\">\r\n                            {carrito}\r\n                        </ul>\r\n                    </div>\r\n                    <div id=\"boton-procesar\" className=\"col-12 col-md-3 align-self-center\">\r\n                        <div className=\"row justify-content-center\">\r\n                        <Link to={{ pathname: \"/compra\", state: { userId: this.userId } }} className=\"btn btn-primary\" onClick={() => this.procesarCompra()}>Procesar compra</Link>\r\n                        </div>\r\n                    </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            );\r\n        } \r\n    }\r\n}\r\n\r\nexport default Carrito;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport paypal from 'paypal-checkout';\r\n\r\n var Conf ={\r\n    currency: 'EUR',\r\n    env: 'sandbox',\r\n    client: {\r\n        sandbox: 'AfOEViXueKQB_yf47hoYVmSNv-cCrkK12vFYKzGQOy5_6uaQwBosuCr_uYiYkVVWSzAU2EnLA2zpmmO-',\r\n        production:'-- id--',\r\n    },\r\n    locale:'es_ES',\r\n    style:{\r\n        label:'pay',\r\n        color:'blue',\r\n        size:'medium',\r\n        shape:'pill'\r\n    }\r\n};\r\n    \r\n\r\nvar Button= paypal.Button.driver('react', {React, ReactDOM});\r\n    \r\nexport const PayPalButton= Button;\r\nexport const paypalConf= Conf;","import React, { Component } from 'react';\r\nimport { PayPalButton, paypalConf } from '../paypal'\r\nimport { auth } from '../db';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport swal from 'sweetalert';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport SimpleReactValidator from 'simple-react-validator';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport moment from 'moment'\r\n\r\n\r\n\r\nclass Compra extends Component {\r\n    url = Global.url\r\n    paypalConf = paypalConf;\r\n    PayPalButton = PayPalButton;\r\n    userId = null;\r\n    loading = true;\r\n    errorCarrito = false;\r\n    pvp = 0;\r\n\r\n    nombreRef = React.createRef();\r\n    apellidosRef = React.createRef();\r\n    telefonoRef = React.createRef();\r\n    emailRef = React.createRef();\r\n    direccionRef = React.createRef();\r\n    municipioRef = React.createRef();\r\n    cpRef = React.createRef();\r\n    provinciaRef = React.createRef();\r\n\r\n\r\n    state = {\r\n        carrito: [],\r\n        pedido: {},\r\n        identity: true,\r\n        user: {},\r\n        loadedUser: false,\r\n        buttons: false,\r\n        completed: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCarrito();\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (!auth.currentUser) {\r\n            this.setState({\r\n                identity: false\r\n            });\r\n        } else {\r\n            this.userId = this.props.location.state.userId\r\n            if (this.userId === \"null\") {\r\n                this.setState({\r\n                    identity: false\r\n                });\r\n            } else {\r\n                axios.get(this.url + 'getemail/' + this.userId).then((response) => {\r\n                    if (response.data.status === 'success' && response.data.email === auth.currentUser.email) {\r\n                        this.getUser(this.userId);\r\n                    } else {\r\n                        this.setState({\r\n                            identity: false\r\n                        });\r\n                    }\r\n                })\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        this.validator = new SimpleReactValidator({\r\n            locale: 'es',\r\n            validators: {\r\n                names_surnames: {\r\n                    message: 'El campo debe contener letras y espacios',\r\n                    rule: (val, params, validator) => {\r\n                        return validator.helpers.testRegex(val, /^[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+(\\s*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]*)*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+$/) && params.indexOf(val) === -1\r\n                    },\r\n\r\n                },\r\n                email2: {\r\n                    message: 'El email no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^(?:[^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*|\"[^\\n\"]+\")@(?:[^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\]\\.,;:\\s@\"]{2,63}$/i) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                telefono: {\r\n                    message: 'El telefono no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^[896]\\d{8}$/) && params.indexOf(val) === -1\r\n                    },\r\n                },\r\n                dni: {\r\n                    message: 'El DNI no es valido',\r\n                    rule: (val, params, validator) => {\r\n                        // eslint-disable-next-line\r\n                        return validator.helpers.testRegex(val, /^\\d{8}[a-zA-Z]$/) && params.indexOf(val) === -1\r\n                    },\r\n                }\r\n            },\r\n            messages: {\r\n                required: 'Este campo es obligatorio',\r\n                alpha_num_space: 'Solo se permiten caracteres alfanumericos',\r\n                numeric: 'Solo se permiten numeros',\r\n                email: 'Email no es correcto',\r\n                alpha_space: 'Solo se permiten letras y espacios'\r\n\r\n            },\r\n        });\r\n    }\r\n\r\n    getCarrito = () => {\r\n        axios.get(this.url + 'carrito').then((response) => {\r\n            if (response.data.status === 'success' && response.data.carrito) {\r\n\r\n                this.setState({\r\n                    carrito: response.data.carrito,\r\n                })\r\n                this.loading = false;\r\n            } else {\r\n                this.loading = false;\r\n                this.errorCarrito = true;\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n    getUser = (id) => {\r\n        axios.get(this.url + 'getuser/' + id).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    user: response.data.user,\r\n                    loadedUser: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    changeState = () => {\r\n        this.setState({\r\n            pedido: {\r\n                nombre: this.nombreRef.current.value,\r\n                apellidos: this.apellidosRef.current.value,\r\n                telefono: this.telefonoRef.current.value,\r\n                email: this.emailRef.current.value,\r\n                provincia: this.provinciaRef.current.value,\r\n                municipio: this.municipioRef.current.value,\r\n                cp: this.cpRef.current.value,\r\n                direccion: this.direccionRef.current.value,\r\n            }\r\n        }, () => {\r\n            if (this.validator.allValid()) {\r\n                this.setState({\r\n                    buttons: true\r\n                })\r\n\r\n            } else {\r\n                this.setState({\r\n                    buttons: false\r\n                })\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /* STRIPE */\r\n\r\n    onToken = (token) => {\r\n        let total = this.pvp;\r\n        let save_pedido = {\r\n            id_usuario: this.userId,\r\n            detalles: {\r\n                direccion: this.state.pedido.direccion,\r\n                provincia: this.state.pedido.provincia,\r\n                telefono: this.state.pedido.telefono,\r\n                email: this.state.pedido.email,\r\n                municipio: this.state.pedido.municipio,\r\n                cp: this.state.pedido.cp,\r\n                nombre: this.state.pedido.nombre,\r\n                apellidos: this.state.pedido.apellidos\r\n            },\r\n            fecha: moment().format(\"DD/MM/YYYY\"),\r\n            precio_total: this.pvp,\r\n            productos: this.state.carrito,\r\n            estado: 'pendiente'\r\n        }\r\n\r\n        axios.post(this.url + 'pedido/generar', { save_pedido }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                let pedidoId = response.data.pedidoId;\r\n                axios.post(this.url + 'pago', { token, total }).then((response) => {\r\n                    if (response.data.status === 'success') {\r\n                        swal(\r\n                            'Compra realizada correctamente',\r\n                            'En breves confirmaremos su pedido, ID de pedido: ' + pedidoId,\r\n                            'success'\r\n                        );\r\n\r\n                        this.setState({\r\n                            completed: true\r\n                        })\r\n                    } else {\r\n                        swal(\r\n                            'Compra no realizada',\r\n                            'Ha ocurrido un error con el pago',\r\n                            'error'\r\n                        );\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                swal(\r\n                    'Compra no realizada',\r\n                    'Ha ocurrido un error con su pedido',\r\n                    'error'\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    /*  */\r\n\r\n\r\n\r\n    /* PAYPAL */\r\n    payment = (data, actions) => {\r\n        const payment = {\r\n            transactions: [\r\n                {\r\n                    amount: {\r\n                        total: this.pvp,\r\n                        currency: this.paypalConf.currency\r\n                    },\r\n                    description: 'Compra en Tope-Vision',\r\n                    custom: this.state.pedido.email || ''\r\n                }\r\n            ],\r\n            note_to_payer: 'Contactanos para cualquier duda en opticatopevision@gmail.com',\r\n        };\r\n\r\n        return actions.payment.create({ payment });\r\n    };\r\n\r\n    onAuthorize = (data, actions) => {\r\n\r\n        let save_pedido = {\r\n            id_usuario: this.userId,\r\n            detalles: {\r\n                direccion: this.state.pedido.direccion,\r\n                provincia: this.state.pedido.provincia,\r\n                telefono: this.state.pedido.telefono,\r\n                email: this.state.pedido.email,\r\n                municipio: this.state.pedido.municipio,\r\n                cp: this.state.pedido.cp,\r\n                nombre: this.state.pedido.nombre,\r\n                apellidos: this.state.pedido.apellidos\r\n            },\r\n            fecha: moment().format(\"DD/MM/YYYY\"),\r\n            precio_total: this.pvp,\r\n            productos: this.state.carrito,\r\n            estado: 'pendiente'\r\n        }\r\n\r\n        axios.post(this.url + 'pedido/generar', { save_pedido }).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                let pedidoId = response.data.pedidoId;\r\n                return actions.payment.execute().then(response => {\r\n                    swal(\r\n                        'Compra realizada correctamente',\r\n                        'En breves confirmaremos su pedido, ID: ' + pedidoId,\r\n                        'success'\r\n                    );\r\n\r\n                    this.setState({\r\n                        completed: true\r\n                    })\r\n                }).catch(error => {\r\n                    swal(\r\n                        'Compra no realizada',\r\n                        'Ha ocurrido un error en el pago',\r\n                        'error'\r\n                    );\r\n                })\r\n\r\n            } else {\r\n                swal(\r\n                    'Compra no realizada',\r\n                    'Ha ocurrido un error con su pedido',\r\n                    'error'\r\n                );\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    onError = (error) => {\r\n        swal(\r\n            'Pago no realizado',\r\n            'Intentelo mas tarde',\r\n            'error'\r\n        );\r\n    };\r\n\r\n    /*  */\r\n\r\n    render() {\r\n        if (this.state.identity === false) {\r\n            return (\r\n                <Redirect to=\"/login\" />\r\n            )\r\n        }\r\n        if (this.state.completed === true) {\r\n            return (\r\n                <div id=\"compra\" className=\"container-fluid mt-4\">\r\n                    <h1 className=\"cargando\">Gracias por confiar en Optica Tope Vision</h1>\r\n                    <p>En breve nos pondremos en contacto con usted</p>\r\n                    <Link to=\"/\" className=\"btn btn-success\">Volver a Inicio</Link>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        var carrito;\r\n        this.pvp = 0;\r\n        if (this.state.carrito.length >= 1) {\r\n            carrito = this.state.carrito.map((data, i) => {\r\n                this.pvp = this.pvp + data.precio_total;\r\n                return (\r\n\r\n                    <li key={i} className=\"list-group-item m-2\">\r\n                        <div className=\"row\">\r\n                            <div className=\" col-8 text-md-left text-center\" >\r\n                                <img src={data.imagen} className=\"imagencarrito\" alt=\"Cartimg\" />\r\n                                <p className=\"d-inline  m-3\">{data.nombre}</p>\r\n                            </div>\r\n                            <div className=\"col-4 align-self-center\">\r\n                                <div className=\"row justify-content-center\">\r\n                                    <div className=\"col mt-2\">\r\n                                        <div className=\"row flex-nowrap align-items-center justify-content-center align-self-center\">\r\n                                            <div className=\"col text-center p-1\" >\r\n                                                <label className=\"text-center \">Cantidad: <strong>{data.cantidad}</strong></label>\r\n                                            </div>\r\n                                            <div className=\"col text-center p-1\" >\r\n                                                <label className=\"text-center \">Total: <strong>{data.precio_total} €</strong></label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                );\r\n            });\r\n        } else if (this.errorCarrito === true && this.loading === false) {\r\n            carrito = <h1 className=\"mt-5 text-center error\">Error al procesar compra</h1>\r\n        } else {\r\n            carrito =\r\n                <h1 className=\"mt-5 text-center cargando\">Cargando...</h1>\r\n        }\r\n\r\n        if (this.state.loadedUser === true) {\r\n            return (\r\n                <div id=\"compra\" className=\"container-fluid mt-4\">\r\n                    <div className=\"row \">\r\n                        <div className=\"col-12 text-left m-4\">\r\n                            <h2>Procesando compra</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div id=\"direciones\" className=\"col-md-6 col-12\">\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"nombre\" className=\"ml-2\">Nombre</label>\r\n                                <input id=\"nombre\" className=\"form-control mr-2 ml-2\" type=\"text\" value={this.state.user.nombre} name=\"nombre\" ref={this.nombreRef} /* onChange={this.changeState} */ onKeyUp={this.changeState} required />\r\n                                {this.validator.message('nombre', this.state.user.nombre, 'required|names_surnames')}\r\n                            </div>\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"apellidos\" className=\"ml-2\">Apellidos</label>\r\n                                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"apellidos\" value={this.state.user.apellidos} ref={this.apellidosRef} /* onChange={this.changeState} */ onKeyUp={this.changeState} required />\r\n                                {this.validator.message('apellidos', this.state.user.apellidos, 'required|names_surnames')}\r\n                            </div>\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"telefono\" className=\"ml-2\">Telefono</label>\r\n                                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"telefono\" value={this.state.user.telefono} ref={this.telefonoRef} onKeyUp={this.changeState} maxLength=\"9\" required />\r\n                                {this.validator.message('telefono', this.state.user.telefono, 'required|telefono')}\r\n                            </div>\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"email\" className=\"ml-2\">Email</label>\r\n                                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"email\" ref={this.emailRef} value={this.state.user.email} onKeyUp={this.changeState} required />\r\n                                {this.validator.message('email', this.state.user.email, 'required|email')}\r\n                            </div>\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"provincia\" className=\"ml-2\">Provincia</label>\r\n                                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"provincia\" ref={this.provinciaRef} onKeyUp={this.changeState} required />\r\n                                {this.validator.message('provincia', this.state.pedido.provincia, 'required|names_surnames')}\r\n                            </div>\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"municipio\" className=\"ml-2\">Municipio</label>\r\n                                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"municipio\" ref={this.municipioRef} onKeyUp={this.changeState} required />\r\n                                {this.validator.message('municipio', this.state.pedido.municipio, 'required|names_surnames')}\r\n                            </div>\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"cp\" className=\"ml-2\">CP</label>\r\n                                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"cp\" ref={this.cpRef} onKeyUp={this.changeState} required maxLength=\"5\" minLength=\"5\" />\r\n                                {this.validator.message('cp', this.state.pedido.cp, 'required|numeric')}\r\n                            </div>\r\n                            <div className=\"form-group text-left\">\r\n                                <label htmlFor=\"direccion\" className=\"ml-2\">Direccion</label>\r\n                                <input className=\"form-control mr-2 ml-2\" type=\"text\" name=\"direccion\" ref={this.direccionRef} onKeyUp={this.changeState} required />\r\n                                {this.validator.message('direccion', this.state.pedido.direccion, 'required')}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-6 col-12\">\r\n                            <div className=\"row\">\r\n                                <div id=\"buy-list\" className=\"col-12 ml-3\">\r\n                                    <ul className=\"p-3\">\r\n                                        {carrito}\r\n                                        <li className=\"list-group-item m-2 text-right\"><p className=\"h6 mr-3\">Total a pagar: {this.pvp} €</p></li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div id=\"pagos\" className=\"col-12 ml-3\">\r\n                                    {this.state.buttons === true\r\n                                        ? <React.Fragment>\r\n                                            <StripeCheckout ComponentClass=\"boton-pago\" locale=\"es\" currency=\"EUR\" stripeKey=\"pk_test_xQbGMr8UIbCrgGFLNQ2l5LbI00SVNQjKoV\" token={this.onToken} amount={this.pvp * 100}  >\r\n                                                <button className=\"boton-pago btn btn-stripe\">Pagar con Tarjeta <img className=\"img-stripe\" alt=\"img-stripe\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Stripe_Logo%2C_revised_2016.svg/1280px-Stripe_Logo%2C_revised_2016.svg.png\" /> </button>\r\n                                            </StripeCheckout>\r\n                                            <this.PayPalButton\r\n                                                env={this.paypalConf.env}\r\n                                                client={this.paypalConf.client}\r\n                                                payment={(data, actions) => this.payment(data, actions)}\r\n                                                onAuthorize={(data, actions) => this.onAuthorize(data, actions)}\r\n                                                onError={(error) => this.onError(error)}\r\n                                                style={this.paypalConf.style}\r\n                                                commit\r\n                                                locale={this.paypalConf.locale}\r\n                                            />\r\n                                        </React.Fragment>\r\n                                        : <h3 className=\"error\">Rellena los datos para habilitar pago</h3>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <h1 className=\"mt-5 cargando\">Cargando...</h1>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Compra;","import React, { Component } from 'react';\r\nimport { auth } from '../db';\r\nimport axios from \"axios\";\r\nimport Global from \"../Global\";\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\n\r\nclass UsuarioPedidos extends Component {\r\n    userId = null;\r\n    url = Global.url\r\n    pedidoaux = []\r\n    state = {\r\n        identity: false,\r\n        user: {},\r\n        status: null,\r\n        loading: true,\r\n        pedidos: [],\r\n        errorPedidos: false,\r\n        show: false,\r\n    }\r\n    componentDidMount() {\r\n        if (!auth.currentUser) {\r\n            this.setState({\r\n                identity: false\r\n            });\r\n        } else {\r\n            this.userId = this.props.match.params.id\r\n            axios.get(this.url + 'getemail/' + this.userId).then((response) => {\r\n                if (response.data.status === 'success' && response.data.email === auth.currentUser.email) {\r\n                    this.getUser(this.userId);\r\n                } else {\r\n                    this.setState({\r\n                        identity: false\r\n                    });\r\n\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    getUser = (id) => {\r\n        axios.get(this.url + 'getuser/' + id).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    user: response.data.user,\r\n                    identity: true\r\n                })\r\n                this.getPedidos();\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    getPedidos = () => {\r\n        axios.get(this.url + 'pedidos/' + this.userId).then((response) => {\r\n            if (response.data.status === 'success') {\r\n                this.setState({\r\n                    pedidos: response.data.pedidos,\r\n                    loading: false\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    loading: false,\r\n                    errorPedidos: true\r\n                })\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    pulsadoEvento = (id) => {\r\n        this.state.pedidos.forEach((element, i) => {\r\n            if (id === element.pedidoId) {\r\n                this.pedidoaux.push(element)\r\n                this.setState({\r\n                    show: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    cerradoEvento = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n        this.pedidoaux = [];\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        var pedidos;\r\n        this.pvp = 0;\r\n        if (this.state.pedidos.length >= 1) {\r\n            pedidos = this.state.pedidos.map((data, i) => {\r\n                return (\r\n                    <li key={i} className=\"list-group-item m-2\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 col-12 mt-2 mb-2 text-md-left text-center\" >\r\n                                <p className=\"h6\">Fecha</p>\r\n                                <p >{data.pedido.fecha}</p>\r\n                            </div>\r\n                            <div className=\"col-md-4 col-12 mt-2 mb-2 estados-pedidos\">\r\n                                <div className=\"row justify-content-center\">\r\n                                    <div className=\" col-4 \" >\r\n                                        <p className=\"h6\">PVP</p>\r\n                                        <p>{data.pedido.precio_total}€</p>\r\n                                    </div>\r\n                                    <div className=\" col-4\" >\r\n                                        <p className=\"h6\">Estado</p>\r\n                                        <p >{data.pedido.estado}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\" col-md-4 col-12 mt-2 mb-2  text-center\" >\r\n                                <button className=\"btn btn-success\" onClick={() => this.pulsadoEvento(data.pedidoId)}>Detalle</button>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                );\r\n            });\r\n        } else if (this.state.errorPedidos === true && this.state.loading === false) {\r\n            pedidos = <h1 className=\"mt-5 text-center error\">No hay pedidos</h1>\r\n        } else {\r\n            pedidos =\r\n                <h1 className=\"mt-5 text-center cargando\">Cargando...</h1>\r\n        }\r\n\r\n\r\n        if (this.state.identity === true && this.state.loading === false) {\r\n\r\n            return (\r\n                <div className=\"col-12\">\r\n                    <div className=\"row\">\r\n                        <div id=\"pedidos-list\" className=\"col-12 ml-3\">\r\n                            <h1 className=\"m-2 text-md-left text-center\">Mis pedidos</h1>\r\n                            <ul className=\"p-3\">\r\n                                {pedidos}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {/* MODAL DE DETALLE DE PRODUCTO */}\r\n                    {this.pedidoaux.length === 1 &&\r\n                        <Modal show={this.state.show} onHide={this.cerradoEvento} size=\"lg\"\r\n                            aria-labelledby=\"contained-modal-title-vcenter\"\r\n                            centered>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title className=\"text-center\">\r\n                                    <h4>ID: {this.pedidoaux[0].pedidoId}</h4>\r\n                                    <p><strong>Fecha: </strong>{this.pedidoaux[0].pedido.fecha}</p>\r\n                                    <p><strong>Direccion de envio: </strong>{this.pedidoaux[0].pedido.detalles.direccion + ', ' + this.pedidoaux[0].pedido.detalles.municipio + ', ' + this.pedidoaux[0].pedido.detalles.provincia + ' - ' + this.pedidoaux[0].pedido.detalles.cp}</p>\r\n                                </Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n                                <div className=\"infocarrito pl-3\">\r\n                                    <ul>{\r\n                                        this.pedidoaux[0].pedido.productos.map((data, i) => {\r\n                                            return (\r\n                                                <li key={i} className=\"list-group-item m-2\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\" col-8 text-md-left text-center\" >\r\n                                                            <img src={data.imagen} className=\"imagencarrito\" alt=\"Cartimg\" />\r\n                                                            <p className=\"d-inline  m-3\">{data.nombre}</p>\r\n                                                        </div>\r\n                                                        <div className=\"col-4 align-self-center\">\r\n                                                            <div className=\"row justify-content-center\">\r\n                                                                <div className=\"col mt-2\">\r\n                                                                    <div className=\"row flex-nowrap align-items-center justify-content-center align-self-center\">\r\n                                                                        <div className=\"col text-center p-1\" >\r\n                                                                            <label className=\"text-center \">Cantidad: <strong>{data.cantidad}</strong></label>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </li>\r\n                                            );\r\n                                        })\r\n\r\n                                    }\r\n                                        <li className=\"list-group-item m-2 text-right\"><p className=\"h6 mr-3\">Total: {this.pedidoaux[0].pedido.precio_total} €</p></li>\r\n                                    </ul>\r\n                                </div>\r\n\r\n\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button variant=\"secondary\" onClick={this.cerradoEvento}>\r\n                                    Cerrar\r\n                            </Button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n\r\n                    }\r\n                </div>\r\n\r\n\r\n            );\r\n        } else {\r\n            return (\r\n                <h1 className=\"cargando\">Cargando...</h1>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default UsuarioPedidos;","import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\n\r\n\r\nimport Header from './components/Header';\r\nimport Home from './components/Home';\r\nimport Footer from './components/Footer';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Tienda from './components/Tienda';\r\nimport Citas from './components/Citas';\r\nimport Servicios from './components/Servicios';\r\nimport Error from './components/Error'\r\nimport PerfilUsuario from './components/PerfilUsuario';\r\nimport PerfilAdmin from './components/PerfilAdmin';\r\nimport Carrito from './components/Carrito';\r\nimport Compra from './components/Compra';\r\nimport UsuarioPedidos from './components/UsuarioPedidos';\r\n\r\n\r\nclass Router extends Component {\r\n    state = {\r\n        isLogged: false\r\n    };\r\n    logged = () => {\r\n        this.setState({\r\n            isLogged: true\r\n        })\r\n    }\r\n\r\n    signout = () => {\r\n        this.setState({\r\n            isLogged: false\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n\r\n            return (\r\n                <BrowserRouter>\r\n                    {this.state.isLogged === true\r\n                        ? <Header logged={true}  />  \r\n                        : <Header />\r\n                    }\r\n                    <Switch>\r\n\r\n                        <Route exact path=\"/\" component={Home} />\r\n                        <Route exact path=\"/home\" component={Home} />\r\n                        <Route exact path=\"/login\" component={Login} />\r\n                        <Route exact path=\"/register\" component={Register} />\r\n                        <Route exact path=\"/servicios\" component={Servicios} />\r\n                        <Route exact path=\"/compra\" component={Compra} />\r\n                        <Route exact path=\"/tienda/:id?\" component={Tienda} />\r\n                        <Route exact path=\"/carrito\" component={Carrito} />\r\n                        <Route exact path=\"/miperfil/:id\" component={PerfilUsuario} />\r\n                        <Route exact path=\"/mispedidos/:id\" component={UsuarioPedidos} />\r\n                        <Route exact path=\"/adminperfil/:adminid\" component={PerfilAdmin} />\r\n                        <Route exact path=\"/citas\" component={Citas} />\r\n                        <Route exact path=\"/logged\" render={\r\n                            () => {\r\n                                this.logged();\r\n                                return (\r\n                                    <Redirect to=\"/\" />\r\n                                )\r\n\r\n                            }\r\n                        } />\r\n                        <Route exact path=\"/signout\" render={\r\n                            () => {\r\n                                this.signout();\r\n                                return (\r\n                                    <Redirect to=\"/\" />\r\n                                )\r\n\r\n                            }\r\n                        } />\r\n\r\n\r\n                        <Route component={Error} />\r\n                    </Switch>\r\n\r\n\r\n\r\n\r\n                    <Footer />\r\n                </BrowserRouter>\r\n\r\n            );\r\n    }\r\n\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport './assets/css/App.css';\r\nimport Router from './Router';\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\nimport './assets/css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.dbc517cd.png\";","module.exports = __webpack_public_path__ + \"static/media/a.83bde698.png\";","module.exports = __webpack_public_path__ + \"static/media/b.8ba9f6ff.png\";","module.exports = __webpack_public_path__ + \"static/media/c.98aafa73.png\";","module.exports = __webpack_public_path__ + \"static/media/d.464a4d00.png\";","module.exports = __webpack_public_path__ + \"static/media/carrito.420ed8ab.svg\";"],"sourceRoot":""}